# ุชูุฑูุฑ ูุฑุงุฌุนุฉ ุฎุทุฉ ูุตู ุงูุตุงูุงุช ูุงูููุฑุฏูู

**ุชุงุฑูุฎ ุงููุฑุงุฌุนุฉ**: 2025-01-07  
**ุงููุฏู**: ุงูุชุญูู ูู ุงูุชุนุงุฑุถุงุช ูุงูุชูุฑุงุฑ ูู ุงูุฎุทุฉ ุงูููุชุฑุญุฉ ูุน ุงูุจููุฉ ุงูุญุงููุฉ

---

## ููุฎุต ุชูููุฐู

โ **ุงูุฎุทุฉ ูุงุจูุฉ ููุชูููุฐ** ููู ุชุญุชุงุฌ ุฅูู ุจุนุถ ุงูุชุนุฏููุงุช ูุชุฌูุจ ุงูุชุนุงุฑุถุงุช  
โ๏ธ **ุนุฏุฏ ุงูุชุนุงุฑุถุงุช ุงูููุชุดูุฉ**: 6 ุชุนุงุฑุถุงุช ูุญุชููุฉ  
๐ **ุนุฏุฏ ุงูุชูุฑุงุฑุงุช**: 3 ุญุงูุงุช ุชูุฑุงุฑ  
๐ก **ุชุญุณููุงุช ููุชุฑุญุฉ**: 8 ููุงุท

---

## ุงููุณู ุงูุฃูู: ุงูุชุนุงุฑุถุงุช ุงูููุชุดูุฉ

### โ๏ธ ุงูุชุนุงุฑุถ 1: ุญูู `unit_price` ูู Material
**ุงููุถุน ุงูุญุงูู**:
- `Material.unit_price` ููุฌูุฏ ุจุงููุนู ูููุณุชุฎุฏู ูู "ุณุนุฑ ุงููุญุฏุฉ"
- ููุณุชุฎุฏู ูู ุญุณุงุจุงุช ุงูุชูููุฉ ูู `OrderCost` ู `MaterialConsumption`

**ุงูุฎุทุฉ ุงูููุชุฑุญุฉ**:
- ุชุฑูุฏ ุชุญููู `unit_price` ููุตุจุญ "ุณุนุฑ ุงูุชูููุฉ"
- ุฅุถุงูุฉ ููุทู ูุญุณุงุจ ุณุนุฑ ุงูุชูููุฉ (ุงูุชุฑุงุถู/ูุชูุณุท/ุขุฎุฑ ูุงุชูุฑุฉ)

**ุงูุชุนุงุฑุถ**:
- ุงูุงุณู ุงูุญุงูู `unit_price` ุบุงูุถ - ูู ูู ุณุนุฑ ุงูุจูุน ุฃู ุงูุชูููุฉุ
- ุงูุฎุทุฉ ุชูุชุฑุถ ุฃูู ุณุนุฑ ุงูุชูููุฉุ ููู ุงูููุฏ ูุณุชุฎุฏูู ูู ุฃูุงูู ูุชุนุฏุฏุฉ

**ุงูุญู ุงูููุชุฑุญ**:
```python
class Material(db.Model):
    # ุงูุญููู ุงูููุฌูุฏุฉ
    unit_price = db.Column(db.Float, default=0)  # ุฅุนุงุฏุฉ ุชุณููุฉ โ cost_price
    
    # ุญููู ุฌุฏูุฏุฉ
    cost_price = db.Column(db.Float, default=0)  # ุณุนุฑ ุงูุชูููุฉ
    purchase_price = db.Column(db.Float, default=0)  # ุขุฎุฑ ุณุนุฑ ุดุฑุงุก
    cost_price_mode = db.Column(db.String(30), default='purchase_price_default')
    selling_price = db.Column(db.Float, default=0)  # ุณุนุฑ ุงูุจูุน (ุงุฎุชูุงุฑู)
```

**ุงูุชูุตูุฉ**: 
- ุฅุนุงุฏุฉ ุชุณููุฉ `unit_price` โ `cost_price` ุฃู `unit_cost`
- ุฅุถุงูุฉ ุญูู ูููุตู `purchase_price` ูุณุนุฑ ุงูุดุฑุงุก ุงูุฃุฎูุฑ
- Migration ูููู ุงูุจูุงูุงุช ุงูุญุงููุฉ

---

### โ๏ธ ุงูุชุนุงุฑุถ 2: ุญูู `payment` ููุณุชุฎุฏู ููุนููุงุก
**ุงููุถุน ุงูุญุงูู**:
- `Payment` model ููุฌูุฏ ูููุณุชุฎุฏู ููุฏููุนุงุช **ุงูุนููุงุก** ููุทูุจุงุช
- ูู ุนูุงูุฉ ูุน `Order` ูุญููู: amount, payment_type, payment_method, received_by

**ุงูุฎุทุฉ ุงูููุชุฑุญุฉ**:
- ุฅุถุงูุฉ `SupplierPayment` ููุฏููุนุงุช **ุงูููุฑุฏูู**

**ุงูุชุนุงุฑุถ**:
- ูุฏ ูุญุฏุซ ูุจุณ ุจูู `Payment` (ุนููุงุก) ู `SupplierPayment` (ููุฑุฏูู)
- ููุณ ุงูุญููู ุชูุฑูุจุงู ูู ุงููููุฐุฌูู

**ุงูุญู ุงูููุชุฑุญ**:
```python
# ุฅุนุงุฏุฉ ุชุณููุฉ ูููุถูุญ
class CustomerPayment(db.Model):  # ุจุฏู Payment
    __tablename__ = 'customer_payments'
    # ... ููุณ ุงูุญููู

class SupplierPayment(db.Model):
    __tablename__ = 'supplier_payments'
    # ... ุญููู ูุดุงุจูุฉ
```

**ุงูุชูุตูุฉ**:
- ุฅูุง ุฅุนุงุฏุฉ ุชุณููุฉ `Payment` โ `CustomerPayment` ูููุถูุญ
- ุฃู ุงูุฅุจูุงุก ุนูู `Payment` ูุน ุชูุซูู ูุงุถุญ ุฃูู ููุนููุงุก ููุท
- **ุงูุฃูุถู**: ุชุฑู `Payment` ููุง ูู (ููููู ูู ุงูุณูุงู) ูุฅุถุงูุฉ `SupplierPayment`

---

### โ๏ธ ุงูุชุนุงุฑุถ 3: `showroom_id` ูุน Customer
**ุงููุถุน ุงูุญุงูู**:
- `Customer` ููุณ ูุฏูู `showroom_id`
- ุนููู ูุงุญุฏ ูุฏ ูุทูุจ ูู ุฃูุซุฑ ูู ุตุงูุฉ

**ุงูุฎุทุฉ ุงูููุชุฑุญุฉ**:
- ุฅุถุงูุฉ `showroom_id` ุฅูู `Customer`

**ุงูุชุนุงุฑุถ**:
- ุฅุฐุง ุฃุถููุง `showroom_id` ุฅูู Customerุ ููุฐุง ูุนูู ุนููู ูุงุญุฏ ููู ุตุงูุฉ
- ููู ููุณ ุงูุนููู ูุฏ ูุฐูุจ ูุตุงูุชูู ูุฎุชููุชูู

**ุงูุญู ุงูููุชุฑุญ**:
**ุงูุฎูุงุฑ A** (ุงูููุตู ุจู):
- **ูุง** ุชุถูู `showroom_id` ุฅูู `Customer`
- ุฃุถู `showroom_id` ููุท ุฅูู `Order`
- ุงูุนููู ุนุงู (shared)ุ ููู ุงูุทูุจุงุช ูุฎุตุตุฉ ููู ุตุงูุฉ

**ุงูุฎูุงุฑ B**:
- ุฅุถุงูุฉ `showroom_id` ุฅูู `Customer`
- ุงูุณูุงุญ ุจุชูุฑุงุฑ ุงูุนููู ุนุจุฑ ุงูุตุงูุงุช (ููุณ ุงูุงุณู/ุงููุงุชู ููู showroom_id ูุฎุชูู)
- ุฅุถุงูุฉ unique constraint: `unique(name, phone, showroom_id)`

**ุงูุชูุตูุฉ**: **ุงูุฎูุงุฑ A** - ุนููุงุก ุนุงูููุ ุทูุจุงุช ุฎุงุตุฉ ุจุงูุตุงูุฉ

---

### โ๏ธ ุงูุชุนุงุฑุถ 4: ุชุถุงุฑุจ ูู ุงูุนูุงูุงุช (Relationships)
**ุงููุถุน ุงูุญุงูู**:
- ููุฌุฏ ุชุญุฐูุฑ SQLAlchemy ุณุงุจู (ุชู ุญูู):
  ```
  relationship 'Order.costs' conflicts with 'Order.order_costs'
  ```

**ุงูุฎุทุฉ ุงูููุชุฑุญุฉ**:
- ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุนูุงูุงุช (Showroom โ Orders, Showroom โ Materials, ุฅูุฎ)

**ุงูุชุนุงุฑุถ ุงููุญุชูู**:
- ุฅุถุงูุฉ ุนูุงูุงุช ุฌุฏูุฏุฉ ูุฏ ููุณุจุจ ุชุถุงุฑุจุงุช ูุดุงุจูุฉ
- ุฎุตูุตุงู `Showroom.materials` ูุน `Material.orders`

**ุงูุญู ุงูููุชุฑุญ**:
- ุงุณุชุฎุฏุงู `backref` ูุน `overlaps` parameter:
```python
class Showroom(db.Model):
    materials = db.relationship('Material', backref='showroom', 
                                overlaps="showroom_materials")
```

**ุงูุชูุตูุฉ**: 
- ุชุณููุฉ ุงูุนูุงูุงุช ุจุนูุงูุฉ ูุชุฌูุจ ุงูุชุถุงุฑุจ
- ุงุณุชุฎุฏุงู `back_populates` ุจุฏู `backref` ูููุถูุญ
- ุงุฎุชุจุงุฑ SQLAlchemy relationships ุจุนุฏ ูู ุฅุถุงูุฉ

---

### โ๏ธ ุงูุชุนุงุฑุถ 5: `ProductionStage` ุงููุฏูู
**ุงููุถุน ุงูุญุงูู**:
- ููุฌุฏ ุฅุดุงุฑุงุช ุฅูู `ProductionStage` ูู ุงูููุฏ (ุงูุณุทูุฑ 1261, 1282)
- ููู ุงููููุฐุฌ ุงูุญุงูู ูู `Stage` ูุน ุญูู `stage_type`

**ุงูุฎุทุฉ ุงูููุชุฑุญุฉ**:
- ูุง ุชุฐูุฑ `ProductionStage`

**ุงูุชุนุงุฑุถ**:
- ููุฏ ูุฏูู ูุดูุฑ ุฅูู ูููุฐุฌ ุบูุฑ ููุฌูุฏ

**ุงูุญู ุงูููุชุฑุญ**:
- ุชูุธูู ุงูููุฏ ูู ุฅุดุงุฑุงุช `ProductionStage` ุงููุฏููุฉ
- ุงุณุชุฎุฏุงู `Stage` ููุท ูุน `stage_type='ุฅูุชุงุฌ'`

**ุงูุชูุตูุฉ**: ุชูุธูู ุงูููุฏ ูุจู ุงูุชูููุฐ

---

### โ๏ธ ุงูุชุนุงุฑุถ 6: ุณูุงุณุงุช ุงูุชุณุนูุฑ ุงููุนูุฏุฉ
**ุงููุถุน ุงูุญุงูู**:
- ูุง ููุฌุฏ ููุทู ูุญุณุงุจ ุฃุณุนุงุฑ ูุนูุฏุฉ
- `unit_price` ููุญุฏูุซ ูุฏููุงู

**ุงูุฎุทุฉ ุงูููุชุฑุญุฉ**:
- 3 ุณูุงุณุงุช ุชุณุนูุฑ: ุงูุชุฑุงุถูุ ูุชูุณุท ูุฑุฌูุญุ ุขุฎุฑ ูุงุชูุฑุฉ
- ุญุณุงุจ ุชููุงุฆู ุนูุฏ ุฅุถุงูุฉ ูุงุชูุฑุฉ ุดุฑุงุก

**ุงูุชุนุงุฑุถ**:
- ูุฏ ููุณุจุจ ูุดุงูู ูู ุงูุจูุงูุงุช ุงูุญุงููุฉ
- ุงููุณุชุฎุฏููู ุงุนุชุงุฏูุง ุนูู ุชุนุฏูู ุงูุณุนุฑ ูุฏููุงู

**ุงูุญู ุงูููุชุฑุญ**:
- ุฅุถุงูุฉ ุญูู `allow_manual_price_edit` ุนูู ูุณุชูู Material
- ุฅุถุงูุฉ ุญูู `price_locked` ูููุน ุงูุชุนุฏูู ุงูุชููุงุฆู ุฅุฐุง ุนูุฏูู ูุฏููุงู
- Audit log ูุชุชุจุน ุชุบููุฑุงุช ุงูุฃุณุนุงุฑ

**ุงูุชูุตูุฉ**: ุชุทุจูู ุชุฏุฑูุฌู ูุน ุฎูุงุฑ Opt-in

---

## ุงููุณู ุงูุซุงูู: ุงูุชูุฑุงุฑุงุช ุงูููุชุดูุฉ

### ๐ ุงูุชูุฑุงุฑ 1: ุฏูุนุงุช ุงูููุฑุฏูู
**ุงูุฎุทุฉ**:
- `SupplierPayment.invoice_id` (nullable)
- `SupplierPayment.supplier_id`

**ุงูุชูุฑุงุฑ**:
- ุฅุฐุง ูุงู `invoice_id` ููุฌูุฏุ ูููู ุงูุญุตูู ุนูู `supplier_id` ูู ุงููุงุชูุฑุฉ
- ูุง ุญุงุฌุฉ ูุชูุฑุงุฑ `supplier_id`

**ุงูุชุญุณูู**:
```python
class SupplierPayment(db.Model):
    invoice_id = db.Column(...)  # required
    # ุฅุฒุงูุฉ supplier_id - ูุญุตู ุนููู ูู invoice.supplier_id
    
    @property
    def supplier_id(self):
        return self.invoice.supplier_id if self.invoice else None
```

---

### ๐ ุงูุชูุฑุงุฑ 2: ุฅุฌูุงููุงุช ุงูููุงุชูุฑ
**ุงูุฎุทุฉ**:
- `PurchaseInvoice.total_amount`
- `PurchaseInvoice.paid_amount`
- `PurchaseInvoice.remaining_amount` (computed)

**ุงูุชูุฑุงุฑ**:
- `remaining_amount` ููุญุณุจ ูู ุงูุฃูู ูุงูุซุงูู
- ูุง ุญุงุฌุฉ ูุญูู ูููุตู

**ุงูุชุญุณูู**:
```python
class PurchaseInvoice(db.Model):
    total_amount = db.Column(...)
    # ุฅุฒุงูุฉ paid_amount - ูุญุณุจู ูู SupplierPayments
    
    @property
    def paid_amount(self):
        return sum(p.amount for p in self.payments)
    
    @property
    def remaining_amount(self):
        return self.total_amount - self.paid_amount
```

---

### ๐ ุงูุชูุฑุงุฑ 3: line_total ูู PurchaseInvoiceItem
**ุงูุฎุทุฉ**:
```python
line_total = quantity * purchase_price
```

**ุงูุชูุฑุงุฑ**:
- ูููู ุญุณุงุจู ุชููุงุฆูุงูุ ูุง ุญุงุฌุฉ ูุชุฎุฒููู

**ุงูุชุญุณูู**:
```python
class PurchaseInvoiceItem(db.Model):
    quantity = db.Column(...)
    purchase_price = db.Column(...)
    # ุฅุฒุงูุฉ line_total
    
    @property
    def line_total(self):
        return self.quantity * self.purchase_price
```

**ููุงุญุธุฉ**: ุฅุฐุง ููุช ุชุฑูุฏ ุชุฎุฒููู ููุฃุฏุงุกุ ุฃุถู ููุฑุณ ุนููู

---

## ุงููุณู ุงูุซุงูุซ: ุชุญุณููุงุช ููุชุฑุญุฉ

### ๐ก ุชุญุณูู 1: ุฅุถุงูุฉ Soft Delete
**ุงููุดููุฉ**: ุญุฐู ููุฒูุงุฆู ูุฏ ูููุฏ ุจูุงูุงุช ูููุฉ

**ุงูุชุญุณูู**:
```python
# ุฅุถุงูุฉ ูุฌููุน ุงูููุงุฐุฌ
is_active = db.Column(db.Boolean, default=True)
deleted_at = db.Column(db.DateTime, nullable=True)
deleted_by = db.Column(db.String(100), nullable=True)

# Helper method
def soft_delete(self):
    self.is_active = False
    self.deleted_at = datetime.utcnow()
    self.deleted_by = current_user.username
```

---

### ๐ก ุชุญุณูู 2: Audit Trail
**ุงูุชุญุณูู**: ุฅุถุงูุฉ ุฌุฏูู ูุชุชุจุน ุงูุชุบููุฑุงุช
```python
class AuditLog(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    table_name = db.Column(db.String(50))
    record_id = db.Column(db.Integer)
    action = db.Column(db.String(20))  # create, update, delete
    field_name = db.Column(db.String(50))
    old_value = db.Column(db.Text)
    new_value = db.Column(db.Text)
    user_id = db.Column(db.Integer, db.ForeignKey('user.id'))
    timestamp = db.Column(db.DateTime, default=datetime.utcnow)
    showroom_id = db.Column(db.Integer, db.ForeignKey('showroom.id'))
```

**ุงููุงุฆุฏุฉ**: ุชุชุจุน ูู ุบููุฑ ูุงุฐุง ููุชู (ููู ููุฃุณุนุงุฑ ูุงููุฎุฒูู)

---

### ๐ก ุชุญุณูู 3: ููุงุฑุณ ุงูุฃุฏุงุก
**ุงูุชุญุณูู**: ุฅุถุงูุฉ ููุงุฑุณ ูุฑูุจุฉ
```python
class Order(db.Model):
    # ...
    __table_args__ = (
        db.Index('idx_showroom_status', 'showroom_id', 'status'),
        db.Index('idx_showroom_date', 'showroom_id', 'order_date'),
    )

class PurchaseInvoice(db.Model):
    # ...
    __table_args__ = (
        db.Index('idx_showroom_supplier', 'showroom_id', 'supplier_id'),
        db.Index('idx_invoice_date', 'invoice_date'),
    )
```

---

### ๐ก ุชุญุณูู 4: Validation
**ุงูุชุญุณูู**: ุฅุถุงูุฉ Validators
```python
from sqlalchemy.orm import validates

class Material(db.Model):
    # ...
    
    @validates('cost_price', 'purchase_price', 'selling_price')
    def validate_price(self, key, value):
        if value < 0:
            raise ValueError(f"{key} cannot be negative")
        return value
    
    @validates('quantity_available')
    def validate_quantity(self, key, value):
        if value < 0:
            raise ValueError("Quantity cannot be negative")
        return value
```

---

### ๐ก ุชุญุณูู 5: Settings Model
**ุงูุชุญุณูู**: ูููุฐุฌ ูุฑูุฒู ููุฅุนุฏุงุฏุงุช
```python
class SystemSettings(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    key = db.Column(db.String(100), unique=True, nullable=False)
    value = db.Column(db.Text)
    value_type = db.Column(db.String(20))  # string, int, bool, json
    category = db.Column(db.String(50))  # pricing, permissions, etc
    showroom_id = db.Column(db.Integer, nullable=True)  # null = system-wide
    
# ุฃูุซูุฉ:
# key='default_cost_price_mode', value='purchase_price_default'
# key='allow_manual_cost_edit', value='true', value_type='bool'
```

---

### ๐ก ุชุญุณูู 6: Multi-tenancy Helper
**ุงูุชุญุณูู**: ุฏุงูุฉ ูุณุงุนุฏุฉ ูุชุตููุฉ ุงูุตูุงุญูุงุช
```python
# ูู ููู utils.py ุฃู helpers.py
def get_scoped_query(model_class, user=None):
    """
    ุชุฑุฌุน Query ูุตููู ุญุณุจ showroom_id ูููุณุชุฎุฏู
    """
    user = user or current_user
    query = model_class.query
    
    # ุงููุฏูุฑ ูุฑู ูู ุดูุก (ุฃู ุญุณุจ ููุชุฑ ูุงุฌูุฉ)
    if user.role == 'ูุฏูุฑ':
        showroom_filter = session.get('showroom_filter')  # ูู ูุงุฌูุฉ
        if showroom_filter and showroom_filter != 'all':
            query = query.filter_by(showroom_id=showroom_filter)
    
    # ููุธููู ุขุฎุฑูู ูุฑูู ุตุงูุชูู ููุท
    elif user.showroom_id:
        query = query.filter_by(showroom_id=user.showroom_id)
    
    return query

# ุงุณุชุฎุฏุงู:
# orders = get_scoped_query(Order).filter_by(status='ููุชูุญ').all()
```

---

### ๐ก ุชุญุณูู 7: Decorator ููุญูุงูุฉ
**ุงูุชุญุณูู**: Decorator ูุญูุงูุฉ ุงููุณุงุฑุงุช
```python
from functools import wraps

def require_showroom_access(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        showroom_id = kwargs.get('showroom_id') or request.args.get('showroom_id')
        
        # ุงููุฏูุฑ ูู ุตูุงุญูุฉ ูู ุงูุตุงูุงุช
        if current_user.role == 'ูุฏูุฑ':
            return f(*args, **kwargs)
        
        # ููุธู ุจุตุงูุฉ ูุญุฏุฏุฉ
        if current_user.showroom_id == int(showroom_id):
            return f(*args, **kwargs)
        
        flash('ููุณ ูุฏูู ุตูุงุญูุฉ ูููุตูู ุฅูู ูุฐู ุงูุตุงูุฉ', 'danger')
        return redirect(url_for('dashboard'))
    
    return decorated_function

# ุงุณุชุฎุฏุงู:
@app.route('/orders/<int:showroom_id>')
@login_required
@require_showroom_access
def orders(showroom_id):
    # ...
```

---

### ๐ก ุชุญุณูู 8: Status Enum
**ุงูุชุญุณูู**: ุงุณุชุฎุฏุงู Enum ุจุฏู String ููุญุงูุงุช
```python
from enum import Enum

class OrderStatus(str, Enum):
    OPEN = 'ููุชูุญ'
    IN_PROGRESS = 'ููุฏ ุงูุชูููุฐ'
    COMPLETED = 'ููุชูู'
    DELIVERED = 'ูุณููู'

class InvoiceStatus(str, Enum):
    OPEN = 'open'
    PARTIAL = 'partial'
    PAID = 'paid'
    OVERDUE = 'overdue'
```

**ุงููุงุฆุฏุฉ**: ููุน ุฃุฎุทุงุก ุงููุชุงุจุฉุ IntelliSenseุ Type Safety

---

## ุงููุณู ุงูุฑุงุจุน: ุชูุตูุงุช ุฎุทุฉ ุงูุชูููุฐ

### ุงููุฑุญูุฉ 1: ุชุญุถูุฑ ูุชูุธูู (ุฃุณุจูุน 1)
1. โ ุชูุธูู ุงูููุฏ ูู `ProductionStage` ุงููุฏูู
2. โ ุญู ุชุถุงุฑุจ `Order.costs` ู `Order.order_costs`
3. โ ุฅุนุงุฏุฉ ุชุณููุฉ `Material.unit_price` โ `cost_price`
4. โ ุฅุถุงูุฉ Soft Delete ููููุงุฐุฌ ุงูุญุงููุฉ
5. โ ูุชุงุจุฉ Tests ูููุธุงุฆู ุงูุญุงููุฉ (Regression Prevention)

### ุงููุฑุญูุฉ 2: ุฅุถุงูุฉ Showroom (ุฃุณุจูุน 2)
1. โ ุฅูุดุงุก ูููุฐุฌ `Showroom`
2. โ Migration: ุฅุถุงูุฉ `showroom_id` ููุฌุฏุงูู
3. โ Migration: ุฅูุดุงุก ุตุงูุฉ ุงูุชุฑุงุถูุฉ ูุฅุณูุงุฏ ุงูุจูุงูุงุช
4. โ ุชุญุฏูุซ `User` model ุจู `showroom_id`
5. โ ุฅุถุงูุฉ Helpers: `get_scoped_query()`, `@require_showroom_access`
6. โ ุชุญุฏูุซ ุฌููุน ุงููุณุงุฑุงุช ูุชุตููุฉ showroom_id
7. โ Tests ููุนุฒู ุจูู ุงูุตุงูุงุช

### ุงููุฑุญูุฉ 3: ุงูููุฑุฏูู ูุงูููุงุชูุฑ (ุฃุณุจูุน 3-4)
1. โ ุฅูุดุงุก ููุงุฐุฌ: Supplier, PurchaseInvoice, PurchaseInvoiceItem, SupplierPayment
2. โ ุฅุถุงูุฉ ูุณุงุฑุงุช CRUD ููููุฑุฏูู
3. โ ุฅุถุงูุฉ ูุณุงุฑุงุช ููุงุชูุฑ ุงูุดุฑุงุก
4. โ ููุทู ุชุญุฏูุซ ุงููุฎุฒูู ุนูุฏ ุฅุถุงูุฉ ูุงุชูุฑุฉ
5. โ ูุณุงุฑุงุช ุฏูุนุงุช ุงูููุฑุฏูู
6. โ ุญุณุงุจ ุงููุชุจูู ูุงูุฏููู
7. โ Tests ูุชุฏูู ุงูููุงุชูุฑ ูุงูุฏูุนุงุช

### ุงููุฑุญูุฉ 4: ุณูุงุณุงุช ุงูุชุณุนูุฑ (ุฃุณุจูุน 5)
1. โ ุฅุถุงูุฉ `SystemSettings` model
2. โ ุฅุถุงูุฉ ุญููู ุงูุชุณุนูุฑ ููู Material
3. โ ุชุทุจูู ููุทู ุงูุญุณุงุจ (ุงูุชุฑุงุถู/ูุชูุณุท/ุขุฎุฑ ูุงุชูุฑุฉ)
4. โ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุฃุฏูุงุช ุงููุดุฑู
5. โ ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุณูุงุณุงุช ุงูุฃุตูุงู
6. โ Audit Log ููุฃุณุนุงุฑ
7. โ Tests ูุณูุงุณุงุช ุงูุชุณุนูุฑ

### ุงููุฑุญูุฉ 5: ุงููุงุฌูุงุช (ุฃุณุจูุน 6)
1. โ Selector ุงูุตุงูุฉ ูู ุงูู navbar
2. โ ุตูุญุงุช ุงูููุฑุฏูู (ูุงุฆูุฉุ ุฅุถุงูุฉุ ุชุนุฏูู)
3. โ ุตูุญุงุช ุงูููุงุชูุฑ (ูุงุฆูุฉุ ุฅุถุงูุฉุ ุนุฑุถ)
4. โ ุตูุญุฉ ุฏูุนุงุช ุงูููุฑุฏูู
5. โ ุตูุญุฉ ุฅุนุฏุงุฏุงุช ุงูุชุณุนูุฑ
6. โ ุชุญุฏูุซ ููุญุฉ ุงูุชุญูู ูุนุฑุถ ุฅุญุตุงุฆูุงุช ุญุณุจ ุงูุตุงูุฉ

### ุงููุฑุญูุฉ 6: ุงูุชูุงุฑูุฑ ูุงูุชุญุณููุงุช (ุฃุณุจูุน 7)
1. โ ุชูุงุฑูุฑ ุญุณุจ ุงูุตุงูุฉ
2. โ ุชูุฑูุฑ ุงูุชุฒุงูุงุช ุงูููุฑุฏูู
3. โ ุชูุฑูุฑ ุฏูุฑุงู ุงููุฎุฒูู
4. โ ุชูุฑูุฑ ุฑุจุญูุฉ ุงูุตุงูุงุช
5. โ ุชุตุฏูุฑ CSV/PDF
6. โ ุชุญุณููุงุช UX

---

## ุงููุณู ุงูุฎุงูุณ: ุงููุฎุงุทุฑ ูุงูุชุญุฏูุงุช

### โ๏ธ ุฎุทุฑ 1: ูุฌุฑุฉ ุงูุจูุงูุงุช
**ุงูุฎุทุฑ**: ููุฏุงู ุจูุงูุงุช ุฃุซูุงุก Migration
**ุงูุชุฎููู**: 
- ูุณุฎ ุงุญุชูุงุทูุฉ ุฅูุฒุงููุฉ ูุจู ูู migration
- ุงุฎุชุจุงุฑ migrations ูู ุจูุฆุฉ ุชุทููุฑ ุฃููุงู
- Rollback scripts ุฌุงูุฒุฉ

### โ๏ธ ุฎุทุฑ 2: ุชุนููุฏ ุงูุตูุงุญูุงุช
**ุงูุฎุทุฑ**: ุตุนูุจุฉ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช ุนุจุฑ ุงูุตุงูุงุช
**ุงูุชุฎููู**:
- ุชูุญูุฏ ุงูููุทู ูู Helpers
- ุชูุซูู ูุงุถุญ
- Testing ุดุงูู

### โ๏ธ ุฎุทุฑ 3: ุงูุฃุฏุงุก
**ุงูุฎุทุฑ**: ุจุทุก ุงูุงุณุชุนูุงูุงุช ูุน ูุซุฑุฉ ุงูุตุงูุงุช
**ุงูุชุฎููู**:
- ููุงุฑุณ ููุงุณุจุฉ
- Caching ููุฅุนุฏุงุฏุงุช
- Pagination ููููุงุฆู

### โ๏ธ ุฎุทุฑ 4: ุชุนููุฏ ุงููุงุฌูุฉ
**ุงูุฎุทุฑ**: ูุงุฌูุฉ ูุนูุฏุฉ ูููุณุชุฎุฏู
**ุงูุชุฎููู**:
- UX ุจุณูุท ููุงุถุญ
- Wizards ููุนูููุงุช ุงููุนูุฏุฉ
- ุชุฏุฑูุจ ุงููุณุชุฎุฏููู

---

## ุงููุณู ุงูุณุงุฏุณ: ุงูุฎูุงุตุฉ ูุงูุชูุตูุงุช ุงูููุงุฆูุฉ

### โ ูุฑุงุฑ ุงูุชูููุฐ
**ุงูุฎุทุฉ ูุงุจูุฉ ููุชูููุฐ** ุจุนุฏ ูุนุงูุฌุฉ ุงูุชุนุงุฑุถุงุช ุงููุฐููุฑุฉ

### ๐ฏ ุฃููููุงุช ุงูุชูููุฐ
1. **ุนุงููุฉ**: ูุตู ุงูุตุงูุงุช (core functionality)
2. **ุนุงููุฉ**: ุงูููุฑุฏูู ูุงูููุงุชูุฑ (required for operations)
3. **ูุชูุณุทุฉ**: ุณูุงุณุงุช ุงูุชุณุนูุฑ (can be added gradually)
4. **ูุชูุณุทุฉ**: Audit Log (important for compliance)
5. **ููุฎูุถุฉ**: ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ (nice to have)

### ๐ ููุงุท ุชุญุชุงุฌ ูุฑุงุฑ
1. **Customer.showroom_id**: ุนุงู ุฃู ุฎุงุต ุจุงูุตุงูุฉุ โ **ุงูุชูุตูุฉ: ุนุงู**
2. **Material.unit_price**: ุฅุนุงุฏุฉ ุชุณููุฉ ุฃู ุฅุถุงูุฉ ุญูููุ โ **ุงูุชูุตูุฉ: ุฅุถุงูุฉ cost_price ูููุตู**
3. **Payment**: ุฅุนุงุฏุฉ ุชุณููุฉ ุฃู ุชุฑู ููุง ููุ โ **ุงูุชูุตูุฉ: ุชุฑู ููุง ูู**
4. **Audit Log**: ูุงูู ุฃู ููุฃุณุนุงุฑ ููุทุ โ **ุงูุชูุตูุฉ: ุงูุจุฏุก ุจุงูุฃุณุนุงุฑ ุซู ุงูุชูุณุน**

### โฑ๏ธ ุงูููุช ุงููุชููุน
- **ุงูุญุฏ ุงูุฃุฏูู** (core features): 4-5 ุฃุณุงุจูุน
- **ูุงูู** (ูุน ุงูุชุญุณููุงุช): 7-8 ุฃุณุงุจูุน
- **ุชุฏุฑูุจ ููุฑุงูุจุฉ**: 2 ุฃุณุจูุน

### ๐ฐ ุงูุชูููุฉ ุงูุชูุฏูุฑูุฉ (ูู ุญูุซ ุงูุฌูุฏ)
- **ุชุทููุฑ**: 200-300 ุณุงุนุฉ
- **ุงุฎุชุจุงุฑ**: 80-100 ุณุงุนุฉ
- **ุชูุซูู**: 40-50 ุณุงุนุฉ
- **ุงูุชุฏุฑูุจ**: 20-30 ุณุงุนุฉ

---

## ุงูููุญู: ุฃุณุฆูุฉ ูููุณุชุฎุฏู ูุจู ุงูุชูููุฐ

1. **ูู ูุฏูู ุจูุงูุงุช ุญุงููุฉ ูู productionุ** โ ูุญุฏุฏ ุงุณุชุฑุงุชูุฌูุฉ Migration
2. **ูู ุนุฏุฏ ุงูุตุงูุงุช ุงููุชููุนุ** โ ูุญุฏุฏ ุงูุฃุฏุงุก ุงููุทููุจ
3. **ูู ุชุฑูุฏ ูุตู ูุงูู ุฃู ูุดุงุฑูุฉ ุจุนุถ ุงูุจูุงูุงุชุ** โ ูุญุฏุฏ ุงูุนุฒู
4. **ูู ูุฏูุฑ ุงูููุฑุฏูู - ูุฑูุฒู ุฃู ูู ุตุงูุฉุ** โ ูุญุฏุฏ `Supplier.showroom_id`
5. **ูู ุชุฑูุฏ ุชุทุจูู Audit Log ูู ุงูุจุฏุงูุฉุ** โ ูุญุฏุฏ ุงูุฃููููุงุช
6. **ูุง ูู ุณูุงุณุฉ ุงูุชุณุนูุฑ ุงูููุถูุฉ ุงูุชุฑุงุถูุงูุ** โ ูุญุฏุฏ ุงูุฅุนุฏุงุฏุงุช ุงูุฃูููุฉ

---

**ุงูุฎูุงุตุฉ**: ุงูุฎุทุฉ ููุชุงุฒุฉ ูููู ุชุญุชุงุฌ ุชุนุฏููุงุช ุทูููุฉ. ุฌุงูุฒ ููุชูููุฐ ุจุนุฏ ููุงููุชู ุนูู ุงูุชูุตูุงุช! โจ

