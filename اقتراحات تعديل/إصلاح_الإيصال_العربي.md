# ğŸ”§ Ø¥ØµÙ„Ø§Ø­ Ø¹Ø±Ø¶ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙŠ Ø¥ÙŠØµØ§Ù„Ø§Øª PDF

**Ø§Ù„ØªØ§Ø±ÙŠØ®**: 2025-10-08  
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙŠØ¸Ù‡Ø± ÙƒÙ…Ø±Ø¨Ø¹Ø§Øª Ø³ÙˆØ¯Ø§Ø¡ (â–ˆâ–ˆâ–ˆâ–ˆ) ÙÙŠ Ù…Ù„ÙØ§Øª PDF

---

## ğŸ“Š Ø§Ù„Ù…Ø´ÙƒÙ„Ø©

### Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶:
```
Kitchen Factory
Receipt / Ø§ÙŠØµØ§Ù„ Ù‚Ø¨Ø¶  â†’ ÙŠØ¸Ù‡Ø±: Receipt / â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆ

Order ID / Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: 1  â†’ ÙŠØ¸Ù‡Ø±: Order ID / â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ: 1
Customer / Ø§Ù„Ø¹Ù…ÙŠÙ„: asm  â†’ ÙŠØ¸Ù‡Ø±: Customer / â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ: asm
```

### Ø§Ù„Ø³Ø¨Ø¨ Ø§Ù„Ø¬Ø°Ø±ÙŠ:
1. **Ø§Ù„Ø®Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: `Helvetica` Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
2. **reportlab**: ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø®Ø· TrueType ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
3. **Ø§Ù„Ø³Ø·Ø± 786**: `p.setFont("Helvetica", 12)` â† Ø®Ø· Ù„Ø§ØªÙŠÙ†ÙŠ ÙÙ‚Ø·

---

## âœ… Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­

### Ø§Ù„Ø®ÙŠØ§Ø± 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø· Amiri (Ù…ÙˆØµÙ‰ Ø¨Ù‡) â­

**Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª**:
- âœ… Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±
- âœ… ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
- âœ… Ø¬Ù…ÙŠÙ„ ÙˆÙ…Ù‚Ø±ÙˆØ¡
- âœ… Ù…Ø¬Ø§Ù†ÙŠ 100%

**Ø§Ù„Ø®Ø·ÙˆØ§Øª**:

#### 1. ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø·
```bash
# ØªØ­Ù…ÙŠÙ„ Ø®Ø· Amiri Ù…Ù† Google Fonts
# Ø§Ù„Ø±Ø§Ø¨Ø·: https://fonts.google.com/specimen/Amiri
```

Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø· Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Windows:
- `C:\Windows\Fonts\arial.ttf` - Arial Unicode MS
- `C:\Windows\Fonts\tahoma.ttf` - Tahoma
- `C:\Windows\Fonts\calibri.ttf` - Calibri

#### 2. Ù†Ø³Ø® Ø§Ù„Ø®Ø· Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
```
kitchen_factory/
  fonts/
    Amiri-Regular.ttf
    Amiri-Bold.ttf
```

#### 3. ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ `app.py`

**Ø§Ù„Ø¥Ø¶Ø§ÙØ© ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ù„Ù** (Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø·Ø± 15):
```python
import os

# ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
FONTS_DIR = os.path.join(os.path.dirname(__file__), 'fonts')

def register_arabic_fonts():
    """ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ PDF"""
    try:
        # Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø®Ø· Amiri
        amiri_regular = os.path.join(FONTS_DIR, 'Amiri-Regular.ttf')
        amiri_bold = os.path.join(FONTS_DIR, 'Amiri-Bold.ttf')
        
        if os.path.exists(amiri_regular):
            pdfmetrics.registerFont(TTFont('Amiri', amiri_regular))
            pdfmetrics.registerFont(TTFont('Amiri-Bold', amiri_bold))
            return 'Amiri'
        
        # Ø§Ù„Ø¨Ø¯ÙŠÙ„: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø·ÙˆØ· Windows
        windows_fonts = {
            'Arial': 'C:\\Windows\\Fonts\\arial.ttf',
            'Tahoma': 'C:\\Windows\\Fonts\\tahoma.ttf',
            'Calibri': 'C:\\Windows\\Fonts\\calibri.ttf'
        }
        
        for font_name, font_path in windows_fonts.items():
            if os.path.exists(font_path):
                pdfmetrics.registerFont(TTFont(font_name, font_path))
                return font_name
        
        # Ø¥Ø°Ø§ Ù„Ù… ÙŠÙØ¹Ø«Ø± Ø¹Ù„Ù‰ Ø£ÙŠ Ø®Ø·
        return None
        
    except Exception as e:
        print(f"Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·ÙˆØ·: {str(e)}")
        return None
```

#### 4. ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© `generate_receipt_pdf`

**Ù‚Ø¨Ù„** (Ø§Ù„Ø³Ø·Ø± 775-788):
```python
def generate_receipt_pdf(order, deposit_amount=None):
    """Ø¥Ù†Ø´Ø§Ø¡ Ø¥ÙŠØµØ§Ù„ Ù‚Ø¨Ø¶ PDF Ù„Ù„Ø¹Ø±Ø¨ÙˆÙ†"""
    buffer = io.BytesIO()
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªÙ†Ø¯ PDF
    p = canvas.Canvas(buffer, pagesize=A4)
    width, height = A4
    
    # Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ (Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø· Ø§ÙØªØ±Ø§Ø¶ÙŠ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)
    try:
        # Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªÙˆÙØ±Ø§Ù‹
        p.setFont("Helvetica", 12)  # âŒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
    except:
        p.setFont("Helvetica", 12)
```

**Ø¨Ø¹Ø¯**:
```python
def generate_receipt_pdf(order, deposit_amount=None):
    """Ø¥Ù†Ø´Ø§Ø¡ Ø¥ÙŠØµØ§Ù„ Ù‚Ø¨Ø¶ PDF Ù„Ù„Ø¹Ø±Ø¨ÙˆÙ†"""
    buffer = io.BytesIO()
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªÙ†Ø¯ PDF
    p = canvas.Canvas(buffer, pagesize=A4)
    width, height = A4
    
    # ØªØ³Ø¬ÙŠÙ„ ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ
    arabic_font = register_arabic_fonts()
    
    if arabic_font:
        # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        default_font = arabic_font
        bold_font = f"{arabic_font}-Bold" if arabic_font == "Amiri" else arabic_font
    else:
        # Ø§Ù„Ø¨Ø¯ÙŠÙ„: Ø§Ø³ØªØ®Ø¯Ø§Ù… Helvetica (Ù„Ù† ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­)
        default_font = "Helvetica"
        bold_font = "Helvetica-Bold"
    
    # ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®Ø·
    p.setFont(default_font, 12)
```

#### 5. ØªØ­Ø¯ÙŠØ« Ø¨Ø§Ù‚ÙŠ Ø£Ø³Ø·Ø± Ø§Ù„Ø®Ø·ÙˆØ·

**Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¬Ù…ÙŠØ¹**:
- `p.setFont("Helvetica-Bold", 16)` â†’ `p.setFont(bold_font, 16)`
- `p.setFont("Helvetica", 12)` â†’ `p.setFont(default_font, 12)`
- `p.setFont("Helvetica-Bold", 12)` â†’ `p.setFont(bold_font, 12)`

---

### Ø§Ù„Ø®ÙŠØ§Ø± 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… arabic_reshaper + bidi (Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù„Ø¹Ø±Ø¨ÙŠØ©) ğŸŒŸ

**Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª**:
- âœ… ÙŠØ¯Ø¹Ù… ØªØ´ÙƒÙŠÙ„ Ø§Ù„Ø£Ø­Ø±Ù Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
- âœ… ÙŠØ¯Ø¹Ù… Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ù„Ù„ÙŠØ³Ø§Ø± (RTL)
- âœ… Ø­Ù„ Ù…Ø«Ø¨Øª ÙˆÙ…ÙˆØ«ÙˆÙ‚

**Ø§Ù„ØªØ«Ø¨ÙŠØª**:
```bash
pip install arabic-reshaper python-bidi
```

**Ø§Ù„ÙƒÙˆØ¯**:
```python
from arabic_reshaper import reshape
from bidi.algorithm import get_display

def format_arabic_text(text):
    """ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù„Ù„Ø¹Ø±Ø¶ Ø§Ù„ØµØ­ÙŠØ­ ÙÙŠ PDF"""
    try:
        reshaped_text = reshape(text)
        bidi_text = get_display(reshaped_text)
        return bidi_text
    except:
        return text

# ÙÙŠ generate_receipt_pdf:
subtitle_text = format_arabic_text("Ø§ÙŠØµØ§Ù„ Ù‚Ø¨Ø¶")
p.drawString(x, y, f"Receipt / {subtitle_text}")
```

---

## ğŸ¯ Ø§Ù„Ø­Ù„ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡ (Ù…Ø®ØªÙ„Ø·)

**Ø§Ù„Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø®ÙŠØ§Ø±ÙŠÙ† Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©**:

### 1. Ø§Ù„ØªØ«Ø¨ÙŠØª:
```bash
pip install arabic-reshaper python-bidi
```

### 2. Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ù„:

```python
import os
from arabic_reshaper import reshape
from bidi.algorithm import get_display
from reportlab.lib.pagesizes import A4
from reportlab.pdfgen import canvas
from reportlab.lib.units import cm
from reportlab.pdfbase.ttfonts import TTFont
from reportlab.pdfbase import pdfmetrics

# Ù…Ø³Ø§Ø± Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø®Ø·ÙˆØ·
FONTS_DIR = os.path.join(os.path.dirname(__file__), 'fonts')

def register_arabic_fonts():
    """ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙŠ PDF"""
    try:
        # Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø®Ø· Amiri
        amiri_regular = os.path.join(FONTS_DIR, 'Amiri-Regular.ttf')
        
        if os.path.exists(amiri_regular):
            pdfmetrics.registerFont(TTFont('Amiri', amiri_regular))
            return 'Amiri'
        
        # Ø§Ù„Ø¨Ø¯ÙŠÙ„: Ø§Ø³ØªØ®Ø¯Ø§Ù… Arial Ù…Ù† Windows
        arial_path = 'C:\\Windows\\Fonts\\arial.ttf'
        if os.path.exists(arial_path):
            pdfmetrics.registerFont(TTFont('Arial-Unicode', arial_path))
            return 'Arial-Unicode'
        
        return None
        
    except Exception as e:
        print(f"Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø·ÙˆØ·: {str(e)}")
        return None

def format_arabic_text(text):
    """ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù„Ù„Ø¹Ø±Ø¶ Ø§Ù„ØµØ­ÙŠØ­ ÙÙŠ PDF"""
    try:
        reshaped_text = reshape(text)
        bidi_text = get_display(reshaped_text)
        return bidi_text
    except Exception as e:
        print(f"Ø®Ø·Ø£ ÙÙŠ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ: {str(e)}")
        return text

def generate_receipt_pdf(order, deposit_amount=None):
    """Ø¥Ù†Ø´Ø§Ø¡ Ø¥ÙŠØµØ§Ù„ Ù‚Ø¨Ø¶ PDF Ù„Ù„Ø¹Ø±Ø¨ÙˆÙ†"""
    buffer = io.BytesIO()
    
    # Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªÙ†Ø¯ PDF
    p = canvas.Canvas(buffer, pagesize=A4)
    width, height = A4
    
    # ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ
    arabic_font = register_arabic_fonts()
    font_name = arabic_font if arabic_font else "Helvetica"
    
    # Ø±Ø£Ø³ Ø§Ù„Ø¥ÙŠØµØ§Ù„
    p.setFont(font_name, 16)
    
    # Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø¨Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©)
    title_text = "Kitchen Factory"
    title_width = p.stringWidth(title_text, font_name, 16)
    p.drawString((width - title_width) / 2, height - 2*cm, title_text)
    
    # Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ±Ø¹ÙŠ (Ø¹Ø±Ø¨ÙŠ + Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)
    subtitle_ar = format_arabic_text("Ø§ÙŠØµØ§Ù„ Ù‚Ø¨Ø¶")
    subtitle_text = f"Receipt / {subtitle_ar}"
    subtitle_width = p.stringWidth(subtitle_text, font_name, 14)
    p.setFont(font_name, 14)
    p.drawString((width - subtitle_width) / 2, height - 2.8*cm, subtitle_text)
    
    # Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥ÙŠØµØ§Ù„
    y_position = height - 4.5*cm
    p.setFont(font_name, 12)
    
    # Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨
    order_label = format_arabic_text("Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨")
    p.drawString(2*cm, y_position, f"Order ID / {order_label}: {order.id}")
    y_position -= 0.8*cm
    
    # Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„
    customer_label = format_arabic_text("Ø§Ù„Ø¹Ù…ÙŠÙ„")
    p.drawString(2*cm, y_position, f"Customer / {customer_label}: {order.customer.name}")
    y_position -= 0.8*cm
    
    # ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ÙŠØµØ§Ù„
    date_label = format_arabic_text("Ø§Ù„ØªØ§Ø±ÙŠØ®")
    p.drawString(2*cm, y_position, f"Date / {date_label}: {datetime.now().strftime('%Y-%m-%d %H:%M')}")
    y_position -= 0.8*cm
    
    # Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹
    payment_type_label = format_arabic_text("Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹")
    deposit_label = format_arabic_text("Ø¹Ø±Ø¨ÙˆÙ†")
    p.drawString(2*cm, y_position, f"Payment Type / {payment_type_label}: Deposit / {deposit_label}")
    y_position -= 1*cm
    
    # Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠØ©
    financial_label = format_arabic_text("Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠØ©")
    p.setFont(font_name, 13)
    p.drawString(2*cm, y_position, f"Financial Details / {financial_label}:")
    y_position -= 0.8*cm
    
    p.setFont(font_name, 11)
    
    # Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ÙŠØ©
    order_value_label = format_arabic_text("Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ÙŠØ©")
    currency_label = format_arabic_text("Ø¯ÙŠÙ†Ø§Ø± Ù„ÙŠØ¨ÙŠ")
    p.drawString(2.5*cm, y_position, f"Order Value / {order_value_label}: {order.total_value:.2f} LYD / {currency_label}")
    y_position -= 0.6*cm
    
    # Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
    total_paid_label = format_arabic_text("Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª")
    p.drawString(2.5*cm, y_position, f"Total Paid / {total_paid_label}: {order.total_paid:.2f} LYD / {currency_label}")
    y_position -= 0.6*cm
    
    # Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ
    remaining_label = format_arabic_text("Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ")
    p.drawString(2.5*cm, y_position, f"Remaining / {remaining_label}: {order.remaining_amount:.2f} LYD / {currency_label}")
    y_position -= 0.8*cm
    
    # Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙØ¹Ø©
    if deposit_amount:
        p.setFont(font_name, 13)
        this_payment_label = format_arabic_text("Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙØ¹Ø©")
        p.drawString(2*cm, y_position, f"This Payment / {this_payment_label}: {deposit_amount:.2f} LYD / {currency_label}")
        y_position -= 1*cm
    
    # Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹
    p.setFont(font_name, 12)
    payment_status_label = format_arabic_text("Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹")
    status_ar = format_arabic_text(order.payment_status)
    p.drawString(2*cm, y_position, f"Payment Status / {payment_status_label}: {status_ar}")
    y_position -= 0.8*cm
    
    # Ø§Ù„Ù…Ø³ØªÙ„Ù…
    received_by_label = format_arabic_text("Ø§Ù„Ù…Ø³ØªÙ„Ù…")
    p.drawString(2*cm, y_position, f"Received by / {received_by_label}: {current_user.username}")
    y_position -= 1.5*cm
    
    # Ø®Ø· ÙØ§ØµÙ„
    p.line(2*cm, y_position, width - 2*cm, y_position)
    y_position -= 1*cm
    
    # Ù…Ù„Ø§Ø­Ø¸Ø©
    note_label = format_arabic_text("Ù‡Ø°Ø§ Ø¥ÙŠØµØ§Ù„ ØµØ§Ø¯Ø± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±")
    p.setFont(font_name, 9)
    p.drawString(2*cm, y_position, "This is a computer generated receipt.")
    p.drawString(2*cm, y_position - 0.5*cm, note_label)
    
    # Ø­ÙØ¸ PDF
    p.showPage()
    p.save()
    
    buffer.seek(0)
    return buffer
```

---

## ğŸ“¦ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### 1. ØªØ­Ø¯ÙŠØ« `requirements.txt`:
```txt
arabic-reshaper==3.0.0
python-bidi==0.4.2
```

### 2. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø®Ø·ÙˆØ·:
```
kitchen_factory/
  fonts/
    Amiri-Regular.ttf  (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    README.txt
```

---

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±

### 1. ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª:
```bash
pip install arabic-reshaper python-bidi
```

### 2. ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆØ§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø¥ÙŠØµØ§Ù„:
- Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
- Ø§Ø³ØªÙ„Ø§Ù… Ø¹Ø±Ø¨ÙˆÙ†
- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

### 3. Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:
```
Kitchen Factory
Receipt / Ø§ÙŠØµØ§Ù„ Ù‚Ø¨Ø¶  âœ…

Order ID / Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: 1  âœ…
Customer / Ø§Ù„Ø¹Ù…ÙŠÙ„: asm  âœ…
Date / Ø§Ù„ØªØ§Ø±ÙŠØ®: 2025-10-08 17:03  âœ…
Payment Type / Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹: Deposit / Ø¹Ø±Ø¨ÙˆÙ†  âœ…

Financial Details / Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠØ©:  âœ…
Order Value / Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ÙŠØ©: 10000.00 LYD / Ø¯ÙŠÙ†Ø§Ø± Ù„ÙŠØ¨ÙŠ  âœ…
Total Paid / Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª: 4000.00 LYD / Ø¯ÙŠÙ†Ø§Ø± Ù„ÙŠØ¨ÙŠ  âœ…
Remaining / Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: 6000.00 LYD / Ø¯ÙŠÙ†Ø§Ø± Ù„ÙŠØ¨ÙŠ  âœ…

This Payment / Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙØ¹Ø©: 1000.00 LYD / Ø¯ÙŠÙ†Ø§Ø± Ù„ÙŠØ¨ÙŠ  âœ…

Payment Status / Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹: Ø¯ÙØ¹ Ø¬Ø²Ø¦ÙŠ  âœ…

Received by / Ø§Ù„Ù…Ø³ØªÙ„Ù…: admin  âœ…
```

---

## âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

### 1. Ø§Ù„Ø®Ø·ÙˆØ· ÙÙŠ Windows:
- Ø¥Ø°Ø§ ÙƒÙ†Øª Ø¹Ù„Ù‰ WindowsØŒ Ø®Ø· Arial Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙˆÙŠØ¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¬Ø²Ø¦ÙŠØ§Ù‹
- Ø§Ù„Ù…Ø³Ø§Ø±: `C:\Windows\Fonts\arial.ttf`
- Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø®Ø· Amiri

### 2. Ø§Ù„Ø£Ø¯Ø§Ø¡:
- `register_arabic_fonts()` ÙŠÙØ³ØªØ¯Ø¹Ù‰ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙ„ Ø¥ÙŠØµØ§Ù„
- `format_arabic_text()` Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹

### 3. Ø§Ù„ØªÙˆØ§ÙÙ‚:
- âœ… ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Windows / Linux / macOS
- âœ… Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ¹Ø¯ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- âœ… Ù„Ø§ ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø®Ø±Ù‰

---

## ğŸ”„ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ°

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ø³Ø±ÙŠØ¹ (5 Ø¯Ù‚Ø§Ø¦Ù‚)
1. âœ… ØªØ«Ø¨ÙŠØª `arabic-reshaper` Ùˆ `python-bidi`
2. âœ… Ø¥Ø¶Ø§ÙØ© Ø¯Ø§Ù„Ø© `format_arabic_text()`
3. âœ… Ø¥Ø¶Ø§ÙØ© Ø¯Ø§Ù„Ø© `register_arabic_fonts()`

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„ØªØ­Ø¯ÙŠØ« (10 Ø¯Ù‚Ø§Ø¦Ù‚)
4. âœ… ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© `generate_receipt_pdf()`
5. âœ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ù€ `format_arabic_text()`

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (5 Ø¯Ù‚Ø§Ø¦Ù‚)
6. âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø¥ÙŠØµØ§Ù„
7. âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ

**Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ**: ~20 Ø¯Ù‚ÙŠÙ‚Ø© â±ï¸

---

## âœ… Ø§Ù„Ø­Ø§Ù„Ø©

â³ **Ø¬Ø§Ù‡Ø² Ù„Ù„ØªÙ†ÙÙŠØ°** - Ø§Ù„Ø­Ù„ Ù…ÙˆØ«Ù‚ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆØ¬Ø§Ù‡Ø² Ù„Ù„ØªØ·Ø¨ÙŠÙ‚

---

**Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©**: Ø¨Ø¹Ø¯ ØªØ·Ø¨ÙŠÙ‚ Ù‡Ø°Ø§ Ø§Ù„Ø­Ù„ØŒ Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ÙÙŠ Ø¥ÙŠØµØ§Ù„Ø§Øª PDF! ğŸ‰

