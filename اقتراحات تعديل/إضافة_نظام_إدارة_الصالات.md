# ุฅุถุงูุฉ ูุธุงู ุฅุฏุงุฑุฉ ุงูุตุงูุงุช (Showrooms Management)

**ุงูุชุงุฑูุฎ**: 2025-10-08  
**ุงูุฃููููุฉ**: ุนุงููุฉ ๐ด  
**ุงูุญุงูุฉ**: ูุทููุจ ููุชูููุฐ

---

## ๐ฏ ุงููุดููุฉ

ุญุงููุงู:
- โ ูุง ุชูุฌุฏ ูุงุฌูุฉ ูุฅุถุงูุฉ ุตุงูุฉ ุฌุฏูุฏุฉ
- โ ูุง ูููู ุชุนุฏูู ุจูุงูุงุช ุงูุตุงูุงุช
- โ ูุง ูููู ุนุฑุถ ูุงุฆูุฉ ุงูุตุงูุงุช
- โ๏ธ ูุชู ุฅูุดุงุก ุงูุตุงูุฉ ุงูุงูุชุฑุงุถูุฉ ููุท ุนุจุฑ Migration

**ุงูุชุฃุซูุฑ**:
- ุงููุฏูุฑ ูุง ูุณุชุทูุน ุฅุถุงูุฉ ุตุงูุฉ ุฌุฏูุฏุฉ ุนูุฏ ูุชุญ ูุฑุน ุฌุฏูุฏ
- ูุง ูููู ุชุนุฏูู ูุนูููุงุช ุงูุตุงูุฉ (ุงูุงุณูุ ุงูุนููุงูุ ุงููุฏูุฑุ ุฅูุฎ)
- ุงููุธุงู ูุญุฏูุฏ ุจุงูุตุงูุฉ ุงูุงูุชุฑุงุถูุฉ ููุท

---

## โ ุงูุญู ุงูููุชุฑุญ

ุฅุถุงูุฉ ูุธุงู CRUD ูุงูู ูุฅุฏุงุฑุฉ ุงูุตุงูุงุช:
1. ุนุฑุถ ูุงุฆูุฉ ุงูุตุงูุงุช
2. ุฅุถุงูุฉ ุตุงูุฉ ุฌุฏูุฏุฉ
3. ุชุนุฏูู ุตุงูุฉ ููุฌูุฏุฉ
4. ุญุฐู/ุชุนุทูู ุตุงูุฉ (Soft Delete)

---

## ๐ ุงููุชุทูุจุงุช ุงูุชูุตูููุฉ

### 1. ุงููุณุงุฑุงุช (Routes) ุงููุทููุจุฉ

#### ุฃ) ุนุฑุถ ูุงุฆูุฉ ุงูุตุงูุงุช
```python
@app.route('/showrooms')
@login_required
def showrooms():
    """ุนุฑุถ ูุงุฆูุฉ ุฌููุน ุงูุตุงูุงุช - ูููุฏูุฑ ููุท"""
    if current_user.role != 'ูุฏูุฑ':
        flash('ููุณ ูุฏูู ุตูุงุญูุฉ ูููุตูู ุฅูู ูุฐู ุงูุตูุญุฉ', 'danger')
        return redirect(url_for('dashboard'))
    
    # ุนุฑุถ ุฌููุน ุงูุตุงูุงุช (ุจูุง ูููุง ุงููุนุทูุฉ)
    showrooms = Showroom.query.order_by(Showroom.created_at.desc()).all()
    
    # ุฅุญุตุงุฆูุงุช ููู ุตุงูุฉ
    for showroom in showrooms:
        showroom.users_count = User.query.filter_by(showroom_id=showroom.id, is_active=True).count()
        showroom.orders_count = Order.query.filter_by(showroom_id=showroom.id).count()
        showroom.materials_count = Material.query.filter_by(showroom_id=showroom.id, is_active=True).count()
    
    return render_template('showrooms.html', showrooms=showrooms)
```

#### ุจ) ุฅุถุงูุฉ ุตุงูุฉ ุฌุฏูุฏุฉ
```python
@app.route('/showroom/new', methods=['GET', 'POST'])
@login_required
def new_showroom():
    """ุฅุถุงูุฉ ุตุงูุฉ ุฌุฏูุฏุฉ - ูููุฏูุฑ ููุท"""
    if current_user.role != 'ูุฏูุฑ':
        flash('ููุณ ูุฏูู ุตูุงุญูุฉ ูุฅุถุงูุฉ ุตุงูุงุช', 'danger')
        return redirect(url_for('dashboard'))
    
    if request.method == 'POST':
        try:
            name = request.form.get('name', '').strip()
            code = request.form.get('code', '').strip().upper()
            address = request.form.get('address', '').strip()
            phone = request.form.get('phone', '').strip()
            manager_name = request.form.get('manager_name', '').strip()
            notes = request.form.get('notes', '').strip()
            
            # ุงูุชุญูู ูู ุงูุจูุงูุงุช
            if not name:
                flash('ูุฌุจ ุฅุฏุฎุงู ุงุณู ุงูุตุงูุฉ', 'danger')
                return render_template('new_showroom.html')
            
            if not code:
                flash('ูุฌุจ ุฅุฏุฎุงู ููุฏ ุงูุตุงูุฉ', 'danger')
                return render_template('new_showroom.html')
            
            # ุงูุชุญูู ูู ุนุฏู ุชูุฑุงุฑ ุงูุงุณู ุฃู ุงูููุฏ
            existing_name = Showroom.query.filter_by(name=name).first()
            if existing_name:
                flash('ุงุณู ุงูุตุงูุฉ ููุฌูุฏ ุจุงููุนู', 'warning')
                return render_template('new_showroom.html')
            
            existing_code = Showroom.query.filter_by(code=code).first()
            if existing_code:
                flash('ููุฏ ุงูุตุงูุฉ ููุฌูุฏ ุจุงููุนู', 'warning')
                return render_template('new_showroom.html')
            
            # ุฅูุดุงุก ุงูุตุงูุฉ ุงูุฌุฏูุฏุฉ
            showroom = Showroom(
                name=name,
                code=code,
                address=address,
                phone=phone,
                manager_name=manager_name,
                notes=notes,
                is_active=True
            )
            
            db.session.add(showroom)
            db.session.commit()
            
            flash(f'ุชู ุฅุถุงูุฉ ุงูุตุงูุฉ "{name}" ุจูุฌุงุญ', 'success')
            return redirect(url_for('showrooms'))
            
        except Exception as e:
            db.session.rollback()
            flash(f'ุญุฏุซ ุฎุทุฃ ูู ุฅุถุงูุฉ ุงูุตุงูุฉ: {str(e)}', 'danger')
            return render_template('new_showroom.html')
    
    return render_template('new_showroom.html')
```

#### ุฌ) ุชุนุฏูู ุตุงูุฉ ููุฌูุฏุฉ
```python
@app.route('/showroom/<int:showroom_id>/edit', methods=['GET', 'POST'])
@login_required
def edit_showroom(showroom_id):
    """ุชุนุฏูู ุจูุงูุงุช ุตุงูุฉ - ูููุฏูุฑ ููุท"""
    if current_user.role != 'ูุฏูุฑ':
        flash('ููุณ ูุฏูู ุตูุงุญูุฉ ูุชุนุฏูู ุงูุตุงูุงุช', 'danger')
        return redirect(url_for('dashboard'))
    
    showroom = db.get_or_404(Showroom, showroom_id)
    
    if request.method == 'POST':
        try:
            name = request.form.get('name', '').strip()
            code = request.form.get('code', '').strip().upper()
            address = request.form.get('address', '').strip()
            phone = request.form.get('phone', '').strip()
            manager_name = request.form.get('manager_name', '').strip()
            notes = request.form.get('notes', '').strip()
            
            # ุงูุชุญูู ูู ุงูุจูุงูุงุช
            if not name:
                flash('ูุฌุจ ุฅุฏุฎุงู ุงุณู ุงูุตุงูุฉ', 'danger')
                return render_template('edit_showroom.html', showroom=showroom)
            
            if not code:
                flash('ูุฌุจ ุฅุฏุฎุงู ููุฏ ุงูุตุงูุฉ', 'danger')
                return render_template('edit_showroom.html', showroom=showroom)
            
            # ุงูุชุญูู ูู ุนุฏู ุชูุฑุงุฑ ุงูุงุณู (ุจุงุณุชุซูุงุก ุงูุตุงูุฉ ุงูุญุงููุฉ)
            existing_name = Showroom.query.filter(
                Showroom.name == name,
                Showroom.id != showroom_id
            ).first()
            if existing_name:
                flash('ุงุณู ุงูุตุงูุฉ ููุฌูุฏ ุจุงููุนู', 'warning')
                return render_template('edit_showroom.html', showroom=showroom)
            
            # ุงูุชุญูู ูู ุนุฏู ุชูุฑุงุฑ ุงูููุฏ
            existing_code = Showroom.query.filter(
                Showroom.code == code,
                Showroom.id != showroom_id
            ).first()
            if existing_code:
                flash('ููุฏ ุงูุตุงูุฉ ููุฌูุฏ ุจุงููุนู', 'warning')
                return render_template('edit_showroom.html', showroom=showroom)
            
            # ุชุญุฏูุซ ุงูุจูุงูุงุช
            showroom.name = name
            showroom.code = code
            showroom.address = address
            showroom.phone = phone
            showroom.manager_name = manager_name
            showroom.notes = notes
            showroom.updated_at = datetime.now(timezone.utc)
            
            db.session.commit()
            
            flash(f'ุชู ุชุญุฏูุซ ุจูุงูุงุช ุงูุตุงูุฉ "{name}" ุจูุฌุงุญ', 'success')
            return redirect(url_for('showrooms'))
            
        except Exception as e:
            db.session.rollback()
            flash(f'ุญุฏุซ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูุตุงูุฉ: {str(e)}', 'danger')
            return render_template('edit_showroom.html', showroom=showroom)
    
    return render_template('edit_showroom.html', showroom=showroom)
```

#### ุฏ) ุชุนุทูู/ุชูุนูู ุตุงูุฉ
```python
@app.route('/showroom/<int:showroom_id>/toggle', methods=['POST'])
@login_required
def toggle_showroom(showroom_id):
    """ุชุนุทูู ุฃู ุชูุนูู ุตุงูุฉ - ูููุฏูุฑ ููุท"""
    if current_user.role != 'ูุฏูุฑ':
        flash('ููุณ ูุฏูู ุตูุงุญูุฉ ูุชุนุทูู ุงูุตุงูุงุช', 'danger')
        return redirect(url_for('dashboard'))
    
    try:
        showroom = db.get_or_404(Showroom, showroom_id)
        
        # ุงูุชุญูู: ูุง ูููู ุชุนุทูู ุขุฎุฑ ุตุงูุฉ ูุดุทุฉ
        if showroom.is_active:
            active_count = Showroom.query.filter_by(is_active=True).count()
            if active_count <= 1:
                flash('ูุง ูููู ุชุนุทูู ุขุฎุฑ ุตุงูุฉ ูุดุทุฉ ูู ุงููุธุงู', 'warning')
                return redirect(url_for('showrooms'))
        
        # ุนูุณ ุงูุญุงูุฉ
        showroom.is_active = not showroom.is_active
        
        if not showroom.is_active:
            showroom.deleted_at = datetime.now(timezone.utc)
            showroom.deleted_by = current_user.username
        else:
            showroom.deleted_at = None
            showroom.deleted_by = None
        
        db.session.commit()
        
        status = 'ุชูุนูู' if showroom.is_active else 'ุชุนุทูู'
        flash(f'ุชู {status} ุงูุตุงูุฉ "{showroom.name}" ุจูุฌุงุญ', 'success')
        
    except Exception as e:
        db.session.rollback()
        flash(f'ุญุฏุซ ุฎุทุฃ: {str(e)}', 'danger')
    
    return redirect(url_for('showrooms'))
```

#### ูู) ุนุฑุถ ุชูุงุตูู ุตุงูุฉ
```python
@app.route('/showroom/<int:showroom_id>')
@login_required
def showroom_detail(showroom_id):
    """ุนุฑุถ ุชูุงุตูู ุตุงูุฉ - ูููุฏูุฑ ููุท"""
    if current_user.role != 'ูุฏูุฑ':
        flash('ููุณ ูุฏูู ุตูุงุญูุฉ ูููุตูู ุฅูู ูุฐู ุงูุตูุญุฉ', 'danger')
        return redirect(url_for('dashboard'))
    
    showroom = db.get_or_404(Showroom, showroom_id)
    
    # ุงูููุธููู ูู ูุฐู ุงูุตุงูุฉ
    users = User.query.filter_by(showroom_id=showroom_id, is_active=True).all()
    
    # ุฅุญุตุงุฆูุงุช ุงูุตุงูุฉ
    stats = {
        'users_count': len(users),
        'orders_total': Order.query.filter_by(showroom_id=showroom_id).count(),
        'orders_open': Order.query.filter_by(showroom_id=showroom_id, status='ููุชูุญ').count(),
        'orders_in_progress': Order.query.filter_by(showroom_id=showroom_id, status='ููุฏ ุงูุชูููุฐ').count(),
        'orders_completed': Order.query.filter_by(showroom_id=showroom_id, status='ููุชูู').count(),
        'materials_count': Material.query.filter_by(showroom_id=showroom_id, is_active=True).count(),
    }
    
    # ุขุฎุฑ ุงูุทูุจุงุช (5 ุทูุจุงุช)
    recent_orders = Order.query.filter_by(showroom_id=showroom_id)\
        .order_by(Order.order_date.desc()).limit(5).all()
    
    return render_template('showroom_detail.html', 
                         showroom=showroom, 
                         users=users, 
                         stats=stats,
                         recent_orders=recent_orders)
```

---

### 2. ุงูููุงูุจ (Templates) ุงููุทููุจุฉ

#### ุฃ) `templates/showrooms.html` - ูุงุฆูุฉ ุงูุตุงูุงุช
```html
{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-store"></i> ุฅุฏุงุฑุฉ ุงูุตุงูุงุช</h2>
        <a href="{{ url_for('new_showroom') }}" class="btn btn-primary">
            <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุตุงูุฉ ุฌุฏูุฏุฉ
        </a>
    </div>
    
    <div class="row">
        {% for showroom in showrooms %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card {% if not showroom.is_active %}bg-light{% endif %}">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">
                        {{ showroom.name }}
                        <span class="badge bg-secondary">{{ showroom.code }}</span>
                    </h5>
                    {% if showroom.is_active %}
                    <span class="badge bg-success">ูุดุทุฉ</span>
                    {% else %}
                    <span class="badge bg-danger">ูุนุทูุฉ</span>
                    {% endif %}
                </div>
                <div class="card-body">
                    <p class="mb-1"><i class="fas fa-map-marker-alt"></i> {{ showroom.address or 'ูุง ููุฌุฏ ุนููุงู' }}</p>
                    <p class="mb-1"><i class="fas fa-phone"></i> {{ showroom.phone or 'ูุง ููุฌุฏ ูุงุชู' }}</p>
                    <p class="mb-1"><i class="fas fa-user-tie"></i> {{ showroom.manager_name or 'ูุง ููุฌุฏ ูุฏูุฑ' }}</p>
                    
                    <hr>
                    
                    <div class="row text-center">
                        <div class="col-4">
                            <small class="text-muted">ุงูููุธููู</small>
                            <h5>{{ showroom.users_count }}</h5>
                        </div>
                        <div class="col-4">
                            <small class="text-muted">ุงูุทูุจุงุช</small>
                            <h5>{{ showroom.orders_count }}</h5>
                        </div>
                        <div class="col-4">
                            <small class="text-muted">ุงูููุงุฏ</small>
                            <h5>{{ showroom.materials_count }}</h5>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <div class="btn-group w-100" role="group">
                        <a href="{{ url_for('showroom_detail', showroom_id=showroom.id) }}" 
                           class="btn btn-sm btn-info">
                            <i class="fas fa-eye"></i> ุนุฑุถ
                        </a>
                        <a href="{{ url_for('edit_showroom', showroom_id=showroom.id) }}" 
                           class="btn btn-sm btn-warning">
                            <i class="fas fa-edit"></i> ุชุนุฏูู
                        </a>
                        <form method="POST" action="{{ url_for('toggle_showroom', showroom_id=showroom.id) }}" 
                              style="display: inline-block;">
                            <button type="submit" 
                                    class="btn btn-sm {% if showroom.is_active %}btn-danger{% else %}btn-success{% endif %}"
                                    onclick="return confirm('ูู ุฃูุช ูุชุฃูุฏ ูู {% if showroom.is_active %}ุชุนุทูู{% else %}ุชูุนูู{% endif %} ูุฐู ุงูุตุงูุฉุ')">
                                <i class="fas fa-{% if showroom.is_active %}ban{% else %}check{% endif %}"></i>
                                {% if showroom.is_active %}ุชุนุทูู{% else %}ุชูุนูู{% endif %}
                            </button>
                        </form>
                    </div>
                </div>
                <div class="card-footer text-muted">
                    <small>ุชู ุงูุฅูุดุงุก: {{ showroom.created_at.strftime('%Y-%m-%d') if showroom.created_at else '-' }}</small>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
```

#### ุจ) `templates/new_showroom.html` - ุฅุถุงูุฉ ุตุงูุฉ ุฌุฏูุฏุฉ
```html
{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4><i class="fas fa-plus"></i> ุฅุถุงูุฉ ุตุงูุฉ ุฌุฏูุฏุฉ</h4>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="row">
                            <div class="col-md-8 mb-3">
                                <label for="name" class="form-label">
                                    ุงุณู ุงูุตุงูุฉ <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="name" name="name" required
                                       placeholder="ูุซุงู: ุงูุตุงูุฉ ุงูุดูุงููุฉ">
                            </div>
                            
                            <div class="col-md-4 mb-3">
                                <label for="code" class="form-label">
                                    ุงูููุฏ <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="code" name="code" required
                                       placeholder="NORTH" style="text-transform: uppercase;">
                                <small class="form-text text-muted">ููุฏ ูุตูุฑ ุจุงูุฅูุฌููุฒูุฉ</small>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="address" class="form-label">ุงูุนููุงู</label>
                            <input type="text" class="form-control" id="address" name="address"
                                   placeholder="ูุซุงู: ุดุงุฑุน ุงูุฌูููุฑูุฉ - ุทุฑุงุจูุณ">
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label">ุงููุงุชู</label>
                                <input type="tel" class="form-control" id="phone" name="phone"
                                       placeholder="ูุซุงู: 0912345678">
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="manager_name" class="form-label">ุงุณู ุงููุฏูุฑ</label>
                                <input type="text" class="form-control" id="manager_name" name="manager_name"
                                       placeholder="ูุซุงู: ุฃุญูุฏ ูุญูุฏ">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="notes" class="form-label">ููุงุญุธุงุช</label>
                            <textarea class="form-control" id="notes" name="notes" rows="3"
                                      placeholder="ุฃู ููุงุญุธุงุช ุฅุถุงููุฉ ุนู ุงูุตุงูุฉ"></textarea>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <a href="{{ url_for('showrooms') }}" class="btn btn-secondary">
                                <i class="fas fa-times"></i> ุฅูุบุงุก
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> ุญูุธ ุงูุตุงูุฉ
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// ุชุญููู ุงูููุฏ ุฅูู ุฃุญุฑู ูุจูุฑุฉ ุชููุงุฆูุงู
document.getElementById('code').addEventListener('input', function() {
    this.value = this.value.toUpperCase();
});
</script>
{% endblock %}
```

#### ุฌ) `templates/edit_showroom.html` - ุชุนุฏูู ุตุงูุฉ
```html
{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4><i class="fas fa-edit"></i> ุชุนุฏูู ุงูุตุงูุฉ: {{ showroom.name }}</h4>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="row">
                            <div class="col-md-8 mb-3">
                                <label for="name" class="form-label">
                                    ุงุณู ุงูุตุงูุฉ <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="name" name="name" required
                                       value="{{ showroom.name }}">
                            </div>
                            
                            <div class="col-md-4 mb-3">
                                <label for="code" class="form-label">
                                    ุงูููุฏ <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="code" name="code" required
                                       value="{{ showroom.code }}" style="text-transform: uppercase;">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="address" class="form-label">ุงูุนููุงู</label>
                            <input type="text" class="form-control" id="address" name="address"
                                   value="{{ showroom.address or '' }}">
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label">ุงููุงุชู</label>
                                <input type="tel" class="form-control" id="phone" name="phone"
                                       value="{{ showroom.phone or '' }}">
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="manager_name" class="form-label">ุงุณู ุงููุฏูุฑ</label>
                                <input type="text" class="form-control" id="manager_name" name="manager_name"
                                       value="{{ showroom.manager_name or '' }}">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="notes" class="form-label">ููุงุญุธุงุช</label>
                            <textarea class="form-control" id="notes" name="notes" rows="3">{{ showroom.notes or '' }}</textarea>
                        </div>
                        
                        <div class="alert alert-info">
                            <small>
                                <i class="fas fa-info-circle"></i>
                                ุชู ุฅูุดุงุก ุงูุตุงูุฉ ูู: {{ showroom.created_at.strftime('%Y-%m-%d %H:%M') if showroom.created_at else '-' }}
                                {% if showroom.updated_at %}
                                <br>ุขุฎุฑ ุชุญุฏูุซ: {{ showroom.updated_at.strftime('%Y-%m-%d %H:%M') }}
                                {% endif %}
                            </small>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <a href="{{ url_for('showrooms') }}" class="btn btn-secondary">
                                <i class="fas fa-times"></i> ุฅูุบุงุก
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> ุญูุธ ุงูุชุนุฏููุงุช
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.getElementById('code').addEventListener('input', function() {
    this.value = this.value.toUpperCase();
});
</script>
{% endblock %}
```

#### ุฏ) `templates/showroom_detail.html` - ุชูุงุตูู ุตุงูุฉ
```html
{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
            <i class="fas fa-store"></i> {{ showroom.name }}
            <span class="badge bg-secondary">{{ showroom.code }}</span>
            {% if showroom.is_active %}
            <span class="badge bg-success">ูุดุทุฉ</span>
            {% else %}
            <span class="badge bg-danger">ูุนุทูุฉ</span>
            {% endif %}
        </h2>
        <div>
            <a href="{{ url_for('edit_showroom', showroom_id=showroom.id) }}" class="btn btn-warning">
                <i class="fas fa-edit"></i> ุชุนุฏูู
            </a>
            <a href="{{ url_for('showrooms') }}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> ุงูุนูุฏุฉ
            </a>
        </div>
    </div>
    
    <!-- ูุนูููุงุช ุงูุตุงูุฉ -->
    <div class="row mb-4">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-info-circle"></i> ูุนูููุงุช ุงูุตุงูุฉ</h5>
                </div>
                <div class="card-body">
                    <table class="table table-borderless">
                        <tr>
                            <th width="200">ุงูุนููุงู:</th>
                            <td>{{ showroom.address or '-' }}</td>
                        </tr>
                        <tr>
                            <th>ุงููุงุชู:</th>
                            <td>{{ showroom.phone or '-' }}</td>
                        </tr>
                        <tr>
                            <th>ุงููุฏูุฑ:</th>
                            <td>{{ showroom.manager_name or '-' }}</td>
                        </tr>
                        <tr>
                            <th>ุงูููุงุญุธุงุช:</th>
                            <td>{{ showroom.notes or '-' }}</td>
                        </tr>
                        <tr>
                            <th>ุชุงุฑูุฎ ุงูุฅูุดุงุก:</th>
                            <td>{{ showroom.created_at.strftime('%Y-%m-%d %H:%M') if showroom.created_at else '-' }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- ุฅุญุตุงุฆูุงุช -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-chart-bar"></i> ุงูุฅุญุตุงุฆูุงุช</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <h6>ุงูููุธููู</h6>
                        <h3 class="text-primary">{{ stats.users_count }}</h3>
                    </div>
                    <hr>
                    <div class="mb-3">
                        <h6>ุฅุฌูุงูู ุงูุทูุจุงุช</h6>
                        <h3 class="text-info">{{ stats.orders_total }}</h3>
                        <small>
                            ููุชูุญุฉ: {{ stats.orders_open }} |
                            ููุฏ ุงูุชูููุฐ: {{ stats.orders_in_progress }} |
                            ููุชููุฉ: {{ stats.orders_completed }}
                        </small>
                    </div>
                    <hr>
                    <div class="mb-3">
                        <h6>ุงูููุงุฏ</h6>
                        <h3 class="text-success">{{ stats.materials_count }}</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ุงูููุธููู -->
    <div class="card mb-4">
        <div class="card-header">
            <h5><i class="fas fa-users"></i> ุงูููุธููู ูู ูุฐู ุงูุตุงูุฉ</h5>
        </div>
        <div class="card-body">
            {% if users %}
            <table class="table">
                <thead>
                    <tr>
                        <th>ุงุณู ุงููุณุชุฎุฏู</th>
                        <th>ุงูุฏูุฑ</th>
                        <th>ุขุฎุฑ ุชุณุฌูู ุฏุฎูู</th>
                        <th>ุงูุญุงูุฉ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td>{{ user.username }}</td>
                        <td><span class="badge bg-info">{{ user.role }}</span></td>
                        <td>{{ user.last_login.strftime('%Y-%m-%d %H:%M') if user.last_login else 'ูู ูุณุฌู ุฏุฎูู' }}</td>
                        <td>
                            {% if user.is_active %}
                            <span class="badge bg-success">ูุดุท</span>
                            {% else %}
                            <span class="badge bg-danger">ูุนุทู</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p class="text-muted">ูุง ููุฌุฏ ููุธููู ูู ูุฐู ุงูุตุงูุฉ</p>
            {% endif %}
        </div>
    </div>
    
    <!-- ุขุฎุฑ ุงูุทูุจุงุช -->
    <div class="card">
        <div class="card-header">
            <h5><i class="fas fa-list"></i> ุขุฎุฑ ุงูุทูุจุงุช (5)</h5>
        </div>
        <div class="card-body">
            {% if recent_orders %}
            <table class="table">
                <thead>
                    <tr>
                        <th>ุฑูู ุงูุทูุจ</th>
                        <th>ุงูุนููู</th>
                        <th>ุชุงุฑูุฎ ุงูุทูุจ</th>
                        <th>ุงููููุฉ</th>
                        <th>ุงูุญุงูุฉ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in recent_orders %}
                    <tr>
                        <td><a href="{{ url_for('order_detail', order_id=order.id) }}">{{ order.id }}</a></td>
                        <td>{{ order.customer.name }}</td>
                        <td>{{ order.order_date.strftime('%Y-%m-%d') }}</td>
                        <td>{{ "%.2f"|format(order.total_value) }} ุฏ.ู</td>
                        <td><span class="badge bg-primary">{{ order.status }}</span></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <a href="{{ url_for('orders') }}" class="btn btn-sm btn-primary">ุนุฑุถ ุฌููุน ุงูุทูุจุงุช</a>
            {% else %}
            <p class="text-muted">ูุง ุชูุฌุฏ ุทูุจุงุช ูู ูุฐู ุงูุตุงูุฉ</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
```

---

### 3. ุชุญุฏูุซ ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ (Sidebar)

ูู `templates/base.html`ุ ุฅุถุงูุฉ ุฑุงุจุท ูุฅุฏุงุฑุฉ ุงูุตุงูุงุช:

```html
<!-- ูู ูุณู ุงูุฅุฏุงุฑุฉ -->
{% if current_user.role == 'ูุฏูุฑ' %}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('showrooms') }}">
        <i class="fas fa-store"></i>
        ุฅุฏุงุฑุฉ ุงูุตุงูุงุช
    </a>
</li>
{% endif %}
```

---

## ๐ฏ ุงูุฃููููุฉ ูุงูุชูููุฐ

### ุงููุฑุญูุฉ 1: ุงูุฃุณุงุณูุงุช (ููู 1) ๐ด
- โ ุฅุถุงูุฉ ุงููุณุงุฑุงุช ุงูู 5
- โ ุฅูุดุงุก ุงูููุงูุจ ุงูู 4
- โ ุชุญุฏูุซ Sidebar

### ุงููุฑุญูุฉ 2: ุงูุชุญุณููุงุช (ููู 2) ๐ก
- โณ Validation ุฃูุถู
- โณ ุฑุณุงุฆู ุฎุทุฃ ููุตูุฉ
- โณ ุชุญุณูู UX

### ุงููุฑุญูุฉ 3: ุงูููุฒุงุช ุงูุฅุถุงููุฉ (ุงุฎุชูุงุฑู) ๐ข
- โณ Showroom Selector ูู Navbar
- โณ ุชูุงุฑูุฑ ุฎุงุตุฉ ุจูู ุตุงูุฉ
- โณ ููุงุฑูุฉ ุจูู ุงูุตุงูุงุช

---

## โ ุงูููุงุฆุฏ

1. **ูููุฏูุฑ**:
   - ุฅุถุงูุฉ ุตุงูุงุช ุฌุฏูุฏุฉ ุจุณูููุฉ
   - ุชุนุฏูู ุจูุงูุงุช ุงูุตุงูุงุช
   - ุนุฑุถ ุฅุญุตุงุฆูุงุช ูู ุตุงูุฉ
   - ุชุนุทูู/ุชูุนูู ุงูุตุงูุงุช

2. **ูููุธุงู**:
   - ูุงุนุฏุฉ ุจูุงูุงุช ุฃูุซุฑ ูุฑููุฉ
   - ุณูููุฉ ุงูุชูุณุน
   - ุฅุฏุงุฑุฉ ูุฑูุฒูุฉ

3. **ุงูุฃูุงู**:
   - ููุท ุงููุฏูุฑ ููููู ุฅุฏุงุฑุฉ ุงูุตุงูุงุช
   - Soft Delete ููุญูุงุธ ุนูู ุงูุจูุงูุงุช
   - Validation ููู

---

## ๐ ุงูุญุงูุฉ

โณ **ุฌุงูุฒ ููุชูููุฐ** - ูู ุงูุชุธุงุฑ ุงูููุงููุฉ

---

## ๐ ุงูุชูููุฐ ุงูุณุฑูุน

```bash
# 1. ุฅุถุงูุฉ ุงููุณุงุฑุงุช ุฅูู app.py
# 2. ุฅูุดุงุก ุงูููุงูุจ ุงูู 4
# 3. ุชุญุฏูุซ base.html (Sidebar)
# 4. ุงุฎุชุจุงุฑ ุงููุธุงู
```

**ุงูููุช ุงููุชููุน**: 4-6 ุณุงุนุงุช ูููุธุงู ุงููุงูู! โฑ๏ธ

