# إضافة نظام إدارة الصالات (Showrooms Management)

**التاريخ**: 2025-10-08  
**الأولوية**: عالية 🔴  
**الحالة**: مطلوب للتنفيذ

---

## 🎯 المشكلة

حالياً:
- ❌ لا توجد واجهة لإضافة صالة جديدة
- ❌ لا يمكن تعديل بيانات الصالات
- ❌ لا يمكن عرض قائمة الصالات
- ⚠️ يتم إنشاء الصالة الافتراضية فقط عبر Migration

**التأثير**:
- المدير لا يستطيع إضافة صالة جديدة عند فتح فرع جديد
- لا يمكن تعديل معلومات الصالة (الاسم، العنوان، المدير، إلخ)
- النظام محدود بالصالة الافتراضية فقط

---

## ✅ الحل المقترح

إضافة نظام CRUD كامل لإدارة الصالات:
1. عرض قائمة الصالات
2. إضافة صالة جديدة
3. تعديل صالة موجودة
4. حذف/تعطيل صالة (Soft Delete)

---

## 📋 المتطلبات التفصيلية

### 1. المسارات (Routes) المطلوبة

#### أ) عرض قائمة الصالات
```python
@app.route('/showrooms')
@login_required
def showrooms():
    """عرض قائمة جميع الصالات - للمدير فقط"""
    if current_user.role != 'مدير':
        flash('ليس لديك صلاحية للوصول إلى هذه الصفحة', 'danger')
        return redirect(url_for('dashboard'))
    
    # عرض جميع الصالات (بما فيها المعطلة)
    showrooms = Showroom.query.order_by(Showroom.created_at.desc()).all()
    
    # إحصائيات لكل صالة
    for showroom in showrooms:
        showroom.users_count = User.query.filter_by(showroom_id=showroom.id, is_active=True).count()
        showroom.orders_count = Order.query.filter_by(showroom_id=showroom.id).count()
        showroom.materials_count = Material.query.filter_by(showroom_id=showroom.id, is_active=True).count()
    
    return render_template('showrooms.html', showrooms=showrooms)
```

#### ب) إضافة صالة جديدة
```python
@app.route('/showroom/new', methods=['GET', 'POST'])
@login_required
def new_showroom():
    """إضافة صالة جديدة - للمدير فقط"""
    if current_user.role != 'مدير':
        flash('ليس لديك صلاحية لإضافة صالات', 'danger')
        return redirect(url_for('dashboard'))
    
    if request.method == 'POST':
        try:
            name = request.form.get('name', '').strip()
            code = request.form.get('code', '').strip().upper()
            address = request.form.get('address', '').strip()
            phone = request.form.get('phone', '').strip()
            manager_name = request.form.get('manager_name', '').strip()
            notes = request.form.get('notes', '').strip()
            
            # التحقق من البيانات
            if not name:
                flash('يجب إدخال اسم الصالة', 'danger')
                return render_template('new_showroom.html')
            
            if not code:
                flash('يجب إدخال كود الصالة', 'danger')
                return render_template('new_showroom.html')
            
            # التحقق من عدم تكرار الاسم أو الكود
            existing_name = Showroom.query.filter_by(name=name).first()
            if existing_name:
                flash('اسم الصالة موجود بالفعل', 'warning')
                return render_template('new_showroom.html')
            
            existing_code = Showroom.query.filter_by(code=code).first()
            if existing_code:
                flash('كود الصالة موجود بالفعل', 'warning')
                return render_template('new_showroom.html')
            
            # إنشاء الصالة الجديدة
            showroom = Showroom(
                name=name,
                code=code,
                address=address,
                phone=phone,
                manager_name=manager_name,
                notes=notes,
                is_active=True
            )
            
            db.session.add(showroom)
            db.session.commit()
            
            flash(f'تم إضافة الصالة "{name}" بنجاح', 'success')
            return redirect(url_for('showrooms'))
            
        except Exception as e:
            db.session.rollback()
            flash(f'حدث خطأ في إضافة الصالة: {str(e)}', 'danger')
            return render_template('new_showroom.html')
    
    return render_template('new_showroom.html')
```

#### ج) تعديل صالة موجودة
```python
@app.route('/showroom/<int:showroom_id>/edit', methods=['GET', 'POST'])
@login_required
def edit_showroom(showroom_id):
    """تعديل بيانات صالة - للمدير فقط"""
    if current_user.role != 'مدير':
        flash('ليس لديك صلاحية لتعديل الصالات', 'danger')
        return redirect(url_for('dashboard'))
    
    showroom = db.get_or_404(Showroom, showroom_id)
    
    if request.method == 'POST':
        try:
            name = request.form.get('name', '').strip()
            code = request.form.get('code', '').strip().upper()
            address = request.form.get('address', '').strip()
            phone = request.form.get('phone', '').strip()
            manager_name = request.form.get('manager_name', '').strip()
            notes = request.form.get('notes', '').strip()
            
            # التحقق من البيانات
            if not name:
                flash('يجب إدخال اسم الصالة', 'danger')
                return render_template('edit_showroom.html', showroom=showroom)
            
            if not code:
                flash('يجب إدخال كود الصالة', 'danger')
                return render_template('edit_showroom.html', showroom=showroom)
            
            # التحقق من عدم تكرار الاسم (باستثناء الصالة الحالية)
            existing_name = Showroom.query.filter(
                Showroom.name == name,
                Showroom.id != showroom_id
            ).first()
            if existing_name:
                flash('اسم الصالة موجود بالفعل', 'warning')
                return render_template('edit_showroom.html', showroom=showroom)
            
            # التحقق من عدم تكرار الكود
            existing_code = Showroom.query.filter(
                Showroom.code == code,
                Showroom.id != showroom_id
            ).first()
            if existing_code:
                flash('كود الصالة موجود بالفعل', 'warning')
                return render_template('edit_showroom.html', showroom=showroom)
            
            # تحديث البيانات
            showroom.name = name
            showroom.code = code
            showroom.address = address
            showroom.phone = phone
            showroom.manager_name = manager_name
            showroom.notes = notes
            showroom.updated_at = datetime.now(timezone.utc)
            
            db.session.commit()
            
            flash(f'تم تحديث بيانات الصالة "{name}" بنجاح', 'success')
            return redirect(url_for('showrooms'))
            
        except Exception as e:
            db.session.rollback()
            flash(f'حدث خطأ في تحديث الصالة: {str(e)}', 'danger')
            return render_template('edit_showroom.html', showroom=showroom)
    
    return render_template('edit_showroom.html', showroom=showroom)
```

#### د) تعطيل/تفعيل صالة
```python
@app.route('/showroom/<int:showroom_id>/toggle', methods=['POST'])
@login_required
def toggle_showroom(showroom_id):
    """تعطيل أو تفعيل صالة - للمدير فقط"""
    if current_user.role != 'مدير':
        flash('ليس لديك صلاحية لتعطيل الصالات', 'danger')
        return redirect(url_for('dashboard'))
    
    try:
        showroom = db.get_or_404(Showroom, showroom_id)
        
        # التحقق: لا يمكن تعطيل آخر صالة نشطة
        if showroom.is_active:
            active_count = Showroom.query.filter_by(is_active=True).count()
            if active_count <= 1:
                flash('لا يمكن تعطيل آخر صالة نشطة في النظام', 'warning')
                return redirect(url_for('showrooms'))
        
        # عكس الحالة
        showroom.is_active = not showroom.is_active
        
        if not showroom.is_active:
            showroom.deleted_at = datetime.now(timezone.utc)
            showroom.deleted_by = current_user.username
        else:
            showroom.deleted_at = None
            showroom.deleted_by = None
        
        db.session.commit()
        
        status = 'تفعيل' if showroom.is_active else 'تعطيل'
        flash(f'تم {status} الصالة "{showroom.name}" بنجاح', 'success')
        
    except Exception as e:
        db.session.rollback()
        flash(f'حدث خطأ: {str(e)}', 'danger')
    
    return redirect(url_for('showrooms'))
```

#### هـ) عرض تفاصيل صالة
```python
@app.route('/showroom/<int:showroom_id>')
@login_required
def showroom_detail(showroom_id):
    """عرض تفاصيل صالة - للمدير فقط"""
    if current_user.role != 'مدير':
        flash('ليس لديك صلاحية للوصول إلى هذه الصفحة', 'danger')
        return redirect(url_for('dashboard'))
    
    showroom = db.get_or_404(Showroom, showroom_id)
    
    # الموظفون في هذه الصالة
    users = User.query.filter_by(showroom_id=showroom_id, is_active=True).all()
    
    # إحصائيات الصالة
    stats = {
        'users_count': len(users),
        'orders_total': Order.query.filter_by(showroom_id=showroom_id).count(),
        'orders_open': Order.query.filter_by(showroom_id=showroom_id, status='مفتوح').count(),
        'orders_in_progress': Order.query.filter_by(showroom_id=showroom_id, status='قيد التنفيذ').count(),
        'orders_completed': Order.query.filter_by(showroom_id=showroom_id, status='مكتمل').count(),
        'materials_count': Material.query.filter_by(showroom_id=showroom_id, is_active=True).count(),
    }
    
    # آخر الطلبات (5 طلبات)
    recent_orders = Order.query.filter_by(showroom_id=showroom_id)\
        .order_by(Order.order_date.desc()).limit(5).all()
    
    return render_template('showroom_detail.html', 
                         showroom=showroom, 
                         users=users, 
                         stats=stats,
                         recent_orders=recent_orders)
```

---

### 2. القوالب (Templates) المطلوبة

#### أ) `templates/showrooms.html` - قائمة الصالات
```html
{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-store"></i> إدارة الصالات</h2>
        <a href="{{ url_for('new_showroom') }}" class="btn btn-primary">
            <i class="fas fa-plus"></i> إضافة صالة جديدة
        </a>
    </div>
    
    <div class="row">
        {% for showroom in showrooms %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card {% if not showroom.is_active %}bg-light{% endif %}">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">
                        {{ showroom.name }}
                        <span class="badge bg-secondary">{{ showroom.code }}</span>
                    </h5>
                    {% if showroom.is_active %}
                    <span class="badge bg-success">نشطة</span>
                    {% else %}
                    <span class="badge bg-danger">معطلة</span>
                    {% endif %}
                </div>
                <div class="card-body">
                    <p class="mb-1"><i class="fas fa-map-marker-alt"></i> {{ showroom.address or 'لا يوجد عنوان' }}</p>
                    <p class="mb-1"><i class="fas fa-phone"></i> {{ showroom.phone or 'لا يوجد هاتف' }}</p>
                    <p class="mb-1"><i class="fas fa-user-tie"></i> {{ showroom.manager_name or 'لا يوجد مدير' }}</p>
                    
                    <hr>
                    
                    <div class="row text-center">
                        <div class="col-4">
                            <small class="text-muted">الموظفون</small>
                            <h5>{{ showroom.users_count }}</h5>
                        </div>
                        <div class="col-4">
                            <small class="text-muted">الطلبات</small>
                            <h5>{{ showroom.orders_count }}</h5>
                        </div>
                        <div class="col-4">
                            <small class="text-muted">المواد</small>
                            <h5>{{ showroom.materials_count }}</h5>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <div class="btn-group w-100" role="group">
                        <a href="{{ url_for('showroom_detail', showroom_id=showroom.id) }}" 
                           class="btn btn-sm btn-info">
                            <i class="fas fa-eye"></i> عرض
                        </a>
                        <a href="{{ url_for('edit_showroom', showroom_id=showroom.id) }}" 
                           class="btn btn-sm btn-warning">
                            <i class="fas fa-edit"></i> تعديل
                        </a>
                        <form method="POST" action="{{ url_for('toggle_showroom', showroom_id=showroom.id) }}" 
                              style="display: inline-block;">
                            <button type="submit" 
                                    class="btn btn-sm {% if showroom.is_active %}btn-danger{% else %}btn-success{% endif %}"
                                    onclick="return confirm('هل أنت متأكد من {% if showroom.is_active %}تعطيل{% else %}تفعيل{% endif %} هذه الصالة؟')">
                                <i class="fas fa-{% if showroom.is_active %}ban{% else %}check{% endif %}"></i>
                                {% if showroom.is_active %}تعطيل{% else %}تفعيل{% endif %}
                            </button>
                        </form>
                    </div>
                </div>
                <div class="card-footer text-muted">
                    <small>تم الإنشاء: {{ showroom.created_at.strftime('%Y-%m-%d') if showroom.created_at else '-' }}</small>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
```

#### ب) `templates/new_showroom.html` - إضافة صالة جديدة
```html
{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4><i class="fas fa-plus"></i> إضافة صالة جديدة</h4>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="row">
                            <div class="col-md-8 mb-3">
                                <label for="name" class="form-label">
                                    اسم الصالة <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="name" name="name" required
                                       placeholder="مثال: الصالة الشمالية">
                            </div>
                            
                            <div class="col-md-4 mb-3">
                                <label for="code" class="form-label">
                                    الكود <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="code" name="code" required
                                       placeholder="NORTH" style="text-transform: uppercase;">
                                <small class="form-text text-muted">كود قصير بالإنجليزية</small>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="address" class="form-label">العنوان</label>
                            <input type="text" class="form-control" id="address" name="address"
                                   placeholder="مثال: شارع الجمهورية - طرابلس">
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label">الهاتف</label>
                                <input type="tel" class="form-control" id="phone" name="phone"
                                       placeholder="مثال: 0912345678">
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="manager_name" class="form-label">اسم المدير</label>
                                <input type="text" class="form-control" id="manager_name" name="manager_name"
                                       placeholder="مثال: أحمد محمد">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="notes" class="form-label">ملاحظات</label>
                            <textarea class="form-control" id="notes" name="notes" rows="3"
                                      placeholder="أي ملاحظات إضافية عن الصالة"></textarea>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <a href="{{ url_for('showrooms') }}" class="btn btn-secondary">
                                <i class="fas fa-times"></i> إلغاء
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> حفظ الصالة
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// تحويل الكود إلى أحرف كبيرة تلقائياً
document.getElementById('code').addEventListener('input', function() {
    this.value = this.value.toUpperCase();
});
</script>
{% endblock %}
```

#### ج) `templates/edit_showroom.html` - تعديل صالة
```html
{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4><i class="fas fa-edit"></i> تعديل الصالة: {{ showroom.name }}</h4>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="row">
                            <div class="col-md-8 mb-3">
                                <label for="name" class="form-label">
                                    اسم الصالة <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="name" name="name" required
                                       value="{{ showroom.name }}">
                            </div>
                            
                            <div class="col-md-4 mb-3">
                                <label for="code" class="form-label">
                                    الكود <span class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" id="code" name="code" required
                                       value="{{ showroom.code }}" style="text-transform: uppercase;">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="address" class="form-label">العنوان</label>
                            <input type="text" class="form-control" id="address" name="address"
                                   value="{{ showroom.address or '' }}">
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="phone" class="form-label">الهاتف</label>
                                <input type="tel" class="form-control" id="phone" name="phone"
                                       value="{{ showroom.phone or '' }}">
                            </div>
                            
                            <div class="col-md-6 mb-3">
                                <label for="manager_name" class="form-label">اسم المدير</label>
                                <input type="text" class="form-control" id="manager_name" name="manager_name"
                                       value="{{ showroom.manager_name or '' }}">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="notes" class="form-label">ملاحظات</label>
                            <textarea class="form-control" id="notes" name="notes" rows="3">{{ showroom.notes or '' }}</textarea>
                        </div>
                        
                        <div class="alert alert-info">
                            <small>
                                <i class="fas fa-info-circle"></i>
                                تم إنشاء الصالة في: {{ showroom.created_at.strftime('%Y-%m-%d %H:%M') if showroom.created_at else '-' }}
                                {% if showroom.updated_at %}
                                <br>آخر تحديث: {{ showroom.updated_at.strftime('%Y-%m-%d %H:%M') }}
                                {% endif %}
                            </small>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <a href="{{ url_for('showrooms') }}" class="btn btn-secondary">
                                <i class="fas fa-times"></i> إلغاء
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> حفظ التعديلات
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.getElementById('code').addEventListener('input', function() {
    this.value = this.value.toUpperCase();
});
</script>
{% endblock %}
```

#### د) `templates/showroom_detail.html` - تفاصيل صالة
```html
{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
            <i class="fas fa-store"></i> {{ showroom.name }}
            <span class="badge bg-secondary">{{ showroom.code }}</span>
            {% if showroom.is_active %}
            <span class="badge bg-success">نشطة</span>
            {% else %}
            <span class="badge bg-danger">معطلة</span>
            {% endif %}
        </h2>
        <div>
            <a href="{{ url_for('edit_showroom', showroom_id=showroom.id) }}" class="btn btn-warning">
                <i class="fas fa-edit"></i> تعديل
            </a>
            <a href="{{ url_for('showrooms') }}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> العودة
            </a>
        </div>
    </div>
    
    <!-- معلومات الصالة -->
    <div class="row mb-4">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-info-circle"></i> معلومات الصالة</h5>
                </div>
                <div class="card-body">
                    <table class="table table-borderless">
                        <tr>
                            <th width="200">العنوان:</th>
                            <td>{{ showroom.address or '-' }}</td>
                        </tr>
                        <tr>
                            <th>الهاتف:</th>
                            <td>{{ showroom.phone or '-' }}</td>
                        </tr>
                        <tr>
                            <th>المدير:</th>
                            <td>{{ showroom.manager_name or '-' }}</td>
                        </tr>
                        <tr>
                            <th>الملاحظات:</th>
                            <td>{{ showroom.notes or '-' }}</td>
                        </tr>
                        <tr>
                            <th>تاريخ الإنشاء:</th>
                            <td>{{ showroom.created_at.strftime('%Y-%m-%d %H:%M') if showroom.created_at else '-' }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- إحصائيات -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-chart-bar"></i> الإحصائيات</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <h6>الموظفون</h6>
                        <h3 class="text-primary">{{ stats.users_count }}</h3>
                    </div>
                    <hr>
                    <div class="mb-3">
                        <h6>إجمالي الطلبات</h6>
                        <h3 class="text-info">{{ stats.orders_total }}</h3>
                        <small>
                            مفتوحة: {{ stats.orders_open }} |
                            قيد التنفيذ: {{ stats.orders_in_progress }} |
                            مكتملة: {{ stats.orders_completed }}
                        </small>
                    </div>
                    <hr>
                    <div class="mb-3">
                        <h6>المواد</h6>
                        <h3 class="text-success">{{ stats.materials_count }}</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- الموظفون -->
    <div class="card mb-4">
        <div class="card-header">
            <h5><i class="fas fa-users"></i> الموظفون في هذه الصالة</h5>
        </div>
        <div class="card-body">
            {% if users %}
            <table class="table">
                <thead>
                    <tr>
                        <th>اسم المستخدم</th>
                        <th>الدور</th>
                        <th>آخر تسجيل دخول</th>
                        <th>الحالة</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td>{{ user.username }}</td>
                        <td><span class="badge bg-info">{{ user.role }}</span></td>
                        <td>{{ user.last_login.strftime('%Y-%m-%d %H:%M') if user.last_login else 'لم يسجل دخول' }}</td>
                        <td>
                            {% if user.is_active %}
                            <span class="badge bg-success">نشط</span>
                            {% else %}
                            <span class="badge bg-danger">معطل</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p class="text-muted">لا يوجد موظفون في هذه الصالة</p>
            {% endif %}
        </div>
    </div>
    
    <!-- آخر الطلبات -->
    <div class="card">
        <div class="card-header">
            <h5><i class="fas fa-list"></i> آخر الطلبات (5)</h5>
        </div>
        <div class="card-body">
            {% if recent_orders %}
            <table class="table">
                <thead>
                    <tr>
                        <th>رقم الطلب</th>
                        <th>العميل</th>
                        <th>تاريخ الطلب</th>
                        <th>القيمة</th>
                        <th>الحالة</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in recent_orders %}
                    <tr>
                        <td><a href="{{ url_for('order_detail', order_id=order.id) }}">{{ order.id }}</a></td>
                        <td>{{ order.customer.name }}</td>
                        <td>{{ order.order_date.strftime('%Y-%m-%d') }}</td>
                        <td>{{ "%.2f"|format(order.total_value) }} د.ل</td>
                        <td><span class="badge bg-primary">{{ order.status }}</span></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <a href="{{ url_for('orders') }}" class="btn btn-sm btn-primary">عرض جميع الطلبات</a>
            {% else %}
            <p class="text-muted">لا توجد طلبات في هذه الصالة</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
```

---

### 3. تحديث القائمة الجانبية (Sidebar)

في `templates/base.html`، إضافة رابط لإدارة الصالات:

```html
<!-- في قسم الإدارة -->
{% if current_user.role == 'مدير' %}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('showrooms') }}">
        <i class="fas fa-store"></i>
        إدارة الصالات
    </a>
</li>
{% endif %}
```

---

## 🎯 الأولوية والتنفيذ

### المرحلة 1: الأساسيات (يوم 1) 🔴
- ✅ إضافة المسارات الـ 5
- ✅ إنشاء القوالب الـ 4
- ✅ تحديث Sidebar

### المرحلة 2: التحسينات (يوم 2) 🟡
- ⏳ Validation أفضل
- ⏳ رسائل خطأ مفصلة
- ⏳ تحسين UX

### المرحلة 3: الميزات الإضافية (اختياري) 🟢
- ⏳ Showroom Selector في Navbar
- ⏳ تقارير خاصة بكل صالة
- ⏳ مقارنة بين الصالات

---

## ✅ الفوائد

1. **للمدير**:
   - إضافة صالات جديدة بسهولة
   - تعديل بيانات الصالات
   - عرض إحصائيات كل صالة
   - تعطيل/تفعيل الصالات

2. **للنظام**:
   - قاعدة بيانات أكثر مرونة
   - سهولة التوسع
   - إدارة مركزية

3. **الأمان**:
   - فقط المدير يمكنه إدارة الصالات
   - Soft Delete للحفاظ على البيانات
   - Validation قوي

---

## 📊 الحالة

⏳ **جاهز للتنفيذ** - في انتظار الموافقة

---

## 🚀 التنفيذ السريع

```bash
# 1. إضافة المسارات إلى app.py
# 2. إنشاء القوالب الـ 4
# 3. تحديث base.html (Sidebar)
# 4. اختبار النظام
```

**الوقت المتوقع**: 4-6 ساعات للنظام الكامل! ⏱️

